{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\Hot.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\Hot.vue","mtime":1733216188000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExpbmVDaGFydCBmcm9tICJAL2NvbXBvbmVudHMvTGluZUNoYXJ0IjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExpbmVDaGFydAogIH0sCiAgbmFtZTogIkhvdCIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnRlcmFjdGlvblF1ZXJ5RHRvOiB7CiAgICAgICAgZGF5OiAzNjUgLy8g6buY6K6k5p+l5LiA5bm0CgogICAgICB9LAogICAgICB2YWx1ZXM6IFtdLAogICAgICBkYXRlczogW10sCiAgICAgIGludGVyYWN0aW9uVHlwZXM6IFtdLAogICAgICBpdGVtOiB7fSwKICAgICAgdGFnOiAn5rWB6YeP54q25Ya1JwogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEludGVyYWN0aW9uVHlwZXMoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VUYWcodHlwZSkgewogICAgICBpZiAodHlwZS5pZCA9PT0gMSkgewogICAgICAgIHRoaXMudGFnID0gJ+eCuei1numHjyc7CiAgICAgIH0gZWxzZSBpZiAodHlwZS5pZCA9PT0gMikgewogICAgICAgIHRoaXMudGFnID0gJ+aUtuiXj+S6uuaVsCc7CiAgICAgIH0gZWxzZSBpZiAodHlwZS5pZCA9PT0gMykgewogICAgICAgIHRoaXMudGFnID0gJ+mYheivu+mHjyc7CiAgICAgIH0gZWxzZSBpZiAodHlwZS5pZCA9PT0gNCkgewogICAgICAgIHRoaXMudGFnID0gJ+ivhOWIhuS6uuaVsCc7CiAgICAgIH0KICAgIH0sCgogICAgdHlwZVNlbGVjdGVkKHR5cGVJdGVtKSB7CiAgICAgIHRoaXMuY2hhbmdlVGFnKHR5cGVJdGVtKTsKICAgICAgdGhpcy5pdGVtID0gdHlwZUl0ZW07CiAgICAgIHRoaXMuaW50ZXJhY3Rpb25RdWVyeUR0by50eXBlID0gdHlwZUl0ZW0uaWQ7CiAgICAgIHRoaXMuZmV0Y2hIb3REYXRhKCk7CiAgICB9LAoKICAgIGZldGNoSW50ZXJhY3Rpb25UeXBlcygpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvaW50ZXJhY3Rpb24vdHlwZXMnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXM7CgogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblR5cGVzID0gZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy50eXBlU2VsZWN0ZWQodGhpcy5pbnRlcmFjdGlvblR5cGVzWzBdKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i5LqS5Yqo57G75Z6L5byC5bi4IiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgb25TZWxlY3RlZChkYXkpIHsKICAgICAgdGhpcy5pbnRlcmFjdGlvblF1ZXJ5RHRvLmRheSA9IGRheTsKICAgICAgdGhpcy5mZXRjaEhvdERhdGEoKTsKICAgIH0sCgogICAgZmV0Y2hIb3REYXRhKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KCcvaW50ZXJhY3Rpb24vZGF5c1F1ZXJ5JywgdGhpcy5pbnRlcmFjdGlvblF1ZXJ5RHRvKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXM7CgogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgY29uc3QgZGF0YXMgPSBkYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnZhbHVlcyA9IGRhdGFzLm1hcChlbnRpdHkgPT4gZW50aXR5LmNvdW50KTsKICAgICAgICAgIHRoaXMuZGF0ZXMgPSBkYXRhcy5tYXAoZW50aXR5ID0+IGVudGl0eS5uYW1lKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i5rWB6YeP54q25Ya15pWw5o2u5byC5bi4IiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["Hot.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAcA,OAAA,SAAA,MAAA,wBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,KAFA;;AAGA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,mBAAA,EAAA;AACA,QAAA,GAAA,EAAA,GADA,CACA;;AADA,OADA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,gBAAA,EAAA,EANA;AAOA,MAAA,IAAA,EAAA,EAPA;AAQA,MAAA,GAAA,EAAA;AARA,KAAA;AAUA,GAdA;;AAeA,EAAA,OAAA,GAAA;AACA,SAAA,qBAAA;AACA,GAjBA;;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA;AACA,aAAA,GAAA,GAAA,KAAA;AACA,OAFA,MAEA,IAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA;AACA,aAAA,GAAA,GAAA,MAAA;AACA,OAFA,MAEA,IAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA;AACA,aAAA,GAAA,GAAA,KAAA;AACA,OAFA,MAEA,IAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA;AACA,aAAA,GAAA,GAAA,MAAA;AACA;AACA,KAXA;;AAYA,IAAA,YAAA,CAAA,QAAA,EAAA;AACA,WAAA,SAAA,CAAA,QAAA;AACA,WAAA,IAAA,GAAA,QAAA;AACA,WAAA,mBAAA,CAAA,IAAA,GAAA,QAAA,CAAA,EAAA;AACA,WAAA,YAAA;AACA,KAjBA;;AAkBA,IAAA,qBAAA,GAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,oBAAA,EAAA,IAAA,CAAA,GAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,GAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,gBAAA,GAAA,IAAA,CAAA,IAAA;AACA,eAAA,YAAA,CAAA,KAAA,gBAAA,CAAA,CAAA,CAAA;AACA;AACA,OANA,EAMA,KANA,CAMA,KAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA;AACA,OARA;AASA,KA5BA;;AA6BA,IAAA,UAAA,CAAA,GAAA,EAAA;AACA,WAAA,mBAAA,CAAA,GAAA,GAAA,GAAA;AACA,WAAA,YAAA;AACA,KAhCA;;AAiCA,IAAA,YAAA,GAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,wBAAA,EAAA,KAAA,mBAAA,EAAA,IAAA,CAAA,GAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,GAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,gBAAA,KAAA,GAAA,IAAA,CAAA,IAAA;AACA,eAAA,MAAA,GAAA,KAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,KAAA,CAAA;AACA,eAAA,KAAA,GAAA,KAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,IAAA,CAAA;AACA;AACA,OAPA,EAOA,KAPA,CAOA,KAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,YAAA,EAAA,KAAA;AAEA,OAVA;AAWA;;AA7CA;AAlBA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"item-type\">\r\n            <span :style=\"{\r\n                backgroundColor: item.id === typeItem.id ? 'rgb(91, 142, 248)' : '',\r\n                color: item.id === typeItem.id ? 'rgb(245,245,245)' : ''\r\n            }\" @click=\"typeSelected(typeItem)\" v-for=\"(typeItem, index) in interactionTypes\" :key=\"index\">{{\r\n                typeItem.name\r\n            }}</span>\r\n        </div>\r\n        <LineChart @on-selected=\"onSelected\" :tag=\"tag\" height=\"500px\" :values=\"values\" :date=\"dates\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nexport default {\r\n    components: { LineChart },\r\n    name: \"Hot\",\r\n    data() {\r\n        return {\r\n            interactionQueryDto: {\r\n                day: 365, // 默认查一年\r\n            },\r\n            values: [],\r\n            dates: [],\r\n            interactionTypes: [],\r\n            item: {},\r\n            tag: '流量状况'\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchInteractionTypes();\r\n    },\r\n    methods: {\r\n        changeTag(type) {\r\n            if (type.id === 1) {\r\n                this.tag = '点赞量';\r\n            } else if (type.id === 2) {\r\n                this.tag = '收藏人数';\r\n            } else if (type.id === 3) {\r\n                this.tag = '阅读量';\r\n            } else if (type.id === 4) {\r\n                this.tag = '评分人数';\r\n            }\r\n        },\r\n        typeSelected(typeItem) {\r\n            this.changeTag(typeItem);\r\n            this.item = typeItem;\r\n            this.interactionQueryDto.type = typeItem.id;\r\n            this.fetchHotData();\r\n        },\r\n        fetchInteractionTypes() {\r\n            this.$axios.get('/interaction/types').then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.interactionTypes = data.data;\r\n                    this.typeSelected(this.interactionTypes[0]);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询互动类型异常\", error);\r\n            });\r\n        },\r\n        onSelected(day) {\r\n            this.interactionQueryDto.day = day;\r\n            this.fetchHotData();\r\n        },\r\n        fetchHotData() {\r\n            this.$axios.post('/interaction/daysQuery', this.interactionQueryDto).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    const datas = data.data;\r\n                    this.values = datas.map(entity => entity.count);\r\n                    this.dates = datas.map(entity => entity.name);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询流量状况数据异常\", error);\r\n\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.item-type {\r\n    display: flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n    background-color: rgb(246, 246, 246);\r\n    gap: 16px;\r\n    padding: 18px 10px;\r\n\r\n    span {\r\n        cursor: pointer;\r\n        font-size: 12px;\r\n        display: inline-block;\r\n        padding: 4px 20px;\r\n        border-radius: 15px;\r\n        color: rgb(51, 51, 51);\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/user"}]}