{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\CreateGourmet.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\CreateGourmet.vue","mtime":1733235024000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEVkaXRvciBmcm9tICJAL2NvbXBvbmVudHMvRWRpdG9yIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvcgogIH0sCiAgbmFtZTogIkNyZWF0ZUdvdXJtZXQiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ291cm1ldDoge30sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICAvLyDnvo7po5/lgZrms5XnmoTmlbDmja7pm4YKICAgICAgY292ZXI6IG51bGwKICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hGcmVzaENhdGVnb3JpZXMoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvLyDlj5HluIPnvo7po58KICAgIHBvc3RHb3VybWV0KCkgewogICAgICB0aGlzLmdvdXJtZXQuY292ZXIgPSB0aGlzLmNvdmVyOwogICAgICB0aGlzLiRheGlvcy5wb3N0KCcvZ291cm1ldC9zYXZlJywgdGhpcy5nb3VybWV0KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICAgIHRpdGxlOiAn576O6aOf5YGa5rOV5paw5aKeJywKICAgICAgICAgICAgbWVzc2FnZTogJ+aWsOWinuaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmdvQmFjaygpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCLmlrDlop7nvo7po5/lgZrms5XlvILluLjvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDlsIHpnaLkuIrkvKDlm57osIPlh73mlbAKICAgIGhhbmRsZUNvdmVyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICB0aXRsZTogJ+WwgemdouS4iuS8oCcsCiAgICAgICAgbWVzc2FnZTogcmVzLmNvZGUgPT09IDIwMCA/ICfkuIrkvKDmiJDlip8nIDogJ+S4iuS8oOWksei0pScsCiAgICAgICAgdHlwZTogcmVzLmNvZGUgPT09IDIwMCA/ICdzdWNjZXNzJyA6ICdlcnJvcicKICAgICAgfSk7IC8vIOS4iuS8oOaIkOWKn+WImeabtOaWsOeUqOaIt+WktOWDjwoKICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICB0aGlzLmNvdmVyID0gcmVzLmRhdGE7CiAgICAgIH0KICAgIH0sCgogICAgLy8g5p+l6K+i576O6aOf5YGa5rOV55qE5L+h5oGvCiAgICBmZXRjaEZyZXNoQ2F0ZWdvcmllcygpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2NhdGVnb3J5L3F1ZXJ5Jywge30pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSByZXMuZGF0YS5kYXRhOwogICAgICAgICAgY29uc3QgYWxsQ2F0ZWdvcnkgPSB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICBuYW1lOiAn5YWo6YOoJwogICAgICAgICAgfTsgLy8g5aS05o+SCgogICAgICAgICAgdGhpcy5jYXRlZ29yaWVzLnVuc2hpZnQoYWxsQ2F0ZWdvcnkpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCLmn6Xor6Lnvo7po5/lgZrms5XlvILluLjvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDov5Tlm57kuIrkuIDpobUKICAgIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCgogICAgb25SZWNlaXZlKGNvbnRlbnQpIHsKICAgICAgdGhpcy5nb3VybWV0LmNvbnRlbnQgPSBjb250ZW50OwogICAgfQoKICB9Cn07"},{"version":3,"sources":["CreateGourmet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,OAAA,MAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,eAFA;;AAGA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAEA;AACA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GATA;;AAUA,EAAA,OAAA,GAAA;AACA,SAAA,oBAAA;AACA,GAZA;;AAaA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAAA,GAAA;AACA,WAAA,OAAA,CAAA,KAAA,GAAA,KAAA,KAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,eAAA,EAAA,KAAA,OAAA,EAAA,IAAA,CAAA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,OAAA,CAAA;AACA,YAAA,QAAA,EAAA,IADA;AAEA,YAAA,KAAA,EAAA,QAFA;AAGA,YAAA,OAAA,EAAA,MAHA;AAIA,YAAA,IAAA,EAAA;AAJA,WAAA;AAMA,eAAA,MAAA;AACA;AACA,OAVA,EAUA,KAVA,CAUA,KAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA;AACA,OAZA;AAaA,KAjBA;;AAkBA;AACA,IAAA,kBAAA,CAAA,GAAA,EAAA,IAAA,EAAA;AACA,WAAA,OAAA,CAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,OAAA,EAAA,GAAA,CAAA,IAAA,KAAA,GAAA,GAAA,MAAA,GAAA,MAHA;AAIA,QAAA,IAAA,EAAA,GAAA,CAAA,IAAA,KAAA,GAAA,GAAA,SAAA,GAAA;AAJA,OAAA,EADA,CAOA;;AACA,UAAA,GAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,aAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA;AACA,KA9BA;;AA+BA;AACA,IAAA,oBAAA,GAAA;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,EAAA,EAAA,IAAA,CAAA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,WAAA,GAAA;AAAA,YAAA,EAAA,EAAA,IAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CAFA,CAGA;;AACA,eAAA,UAAA,CAAA,OAAA,CAAA,WAAA;AACA;AACA,OAPA,EAOA,KAPA,CAOA,KAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA;AACA,OATA;AAUA,KA3CA;;AA4CA;AACA,IAAA,MAAA,GAAA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KA/CA;;AAgDA,IAAA,SAAA,CAAA,OAAA,EAAA;AACA,WAAA,OAAA,CAAA,OAAA,GAAA,OAAA;AACA;;AAlDA;AAbA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"top\">\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"返回首页\" placement=\"bottom\">\r\n                <span class=\"last-page\" @click=\"goBack\">\r\n                    <i class=\"el-icon-back\"></i>\r\n                </span>\r\n            </el-tooltip>\r\n            <span class=\"text\">发布美食做法</span>\r\n        </div>\r\n        <div class=\"buttom\">\r\n            <div>\r\n                <el-col :span=\"4\" style=\"padding-left: 10px;border-right: 1px solid rgb(231, 231, 231);min-height: calc(100vh - 80px);\">\r\n                    <div style=\"padding-inline: 20px;\">\r\n                        <p style=\"font-size: 32px;\">系列</p>\r\n                        <el-select size=\"small\" style=\"font-size: 20px;\" v-model=\"gourmet.categoryId\" placeholder=\"菜系\">\r\n                            <el-option style=\"font-size: 16px;\" v-for=\"item in categories\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </div>\r\n                    <div style=\"padding-inline: 20px;\">\r\n                        <p style=\"font-size: 32px;\">封面</p>\r\n                        <el-upload class=\"avatar-uploader\"\r\n                            action=\"http://localhost:21090/api/food-share-sys/v1.0/file/upload\" :show-file-list=\"false\"\r\n                            :on-success=\"handleCoverSuccess\">\r\n                            <img v-if=\"cover\" :src=\"cover\" style=\"width: 180px;height: 130px;\">\r\n                            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                        </el-upload>\r\n                    </div>\r\n                    <div style=\"padding-inline: 20px;\">\r\n                        <p style=\"font-size: 32px;\">公开权限</p>\r\n                        <el-switch v-model=\"gourmet.isPublish\" active-color=\"#13ce66\" inactive-color=\"#3c3f41\">\r\n                        </el-switch>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"20\">\r\n                    <div style=\"padding-block: 20px;border-bottom: 1px solid rgb(234, 232, 232);\">\r\n                        <input v-model=\"gourmet.title\" style=\"width: 80%;font-size: 40px;padding: 8px 30px;\" type=\"text\"\r\n                            class=\"input-title\" placeholder=\"请输入标题\">\r\n                    </div>\r\n                    <div style=\"border-bottom: 1px solid rgb(234, 232, 232);\">\r\n                        <Editor height=\"calc(100vh - 300px)\" :receiveContent=\"gourmet.content\"\r\n                            @on-receive=\"onReceive\" />\r\n                    </div>\r\n                </el-col>\r\n            </div>\r\n            <div style=\"text-align: center;\">\r\n                <el-button @click=\"postGourmet\" style=\"margin: 20px 0;\" plain>发布做法</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Editor from \"@/components/Editor\"\r\nexport default {\r\n    components: { Editor },\r\n    name: \"CreateGourmet\",\r\n    data() {\r\n        return {\r\n            gourmet: {},\r\n            categories: [], // 美食做法的数据集\r\n            cover: null,\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchFreshCategories();\r\n    },\r\n    methods: {\r\n        // 发布美食\r\n        postGourmet() {\r\n            this.gourmet.cover = this.cover;\r\n            this.$axios.post('/gourmet/save', this.gourmet).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '美食做法新增',\r\n                        message: '新增成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.goBack();\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"新增美食做法异常：\", error);\r\n            });\r\n        },\r\n        // 封面上传回调函数\r\n        handleCoverSuccess(res, file) {\r\n            this.$notify({\r\n                duration: 1500,\r\n                title: '封面上传',\r\n                message: res.code === 200 ? '上传成功' : '上传失败',\r\n                type: res.code === 200 ? 'success' : 'error'\r\n            });\r\n            // 上传成功则更新用户头像\r\n            if (res.code === 200) {\r\n                this.cover = res.data;\r\n            }\r\n        },\r\n        // 查询美食做法的信息\r\n        fetchFreshCategories() {\r\n            this.$axios.post('/category/query', {}).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.categories = res.data.data;\r\n                    const allCategory = { id: null, name: '全部' };\r\n                    // 头插\r\n                    this.categories.unshift(allCategory);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询美食做法异常：\", error);\r\n            });\r\n        },\r\n        // 返回上一页\r\n        goBack() {\r\n            this.$router.go(-1);\r\n        },\r\n        onReceive(content) {\r\n            this.gourmet.content = content;\r\n        },\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.container {\r\n    min-height: 100vh;\r\n\r\n    .buttom {\r\n        margin-top: 6px;\r\n    }\r\n\r\n    .top {\r\n        line-height: 64px;\r\n        padding-inline: 40px;\r\n        background-color: rgb(255, 255, 255);\r\n        border-bottom: 1px solid rgb(231, 231, 231);\r\n\r\n        .text {\r\n            font-size: 18px;\r\n            font-weight: 900;\r\n            margin-left: 10px;\r\n        }\r\n\r\n        .last-page:hover {\r\n            background-color: rgb(232, 232, 232);\r\n        }\r\n\r\n        .last-page {\r\n            background-color: rgb(245, 245, 245);\r\n            padding: 2px 4px;\r\n            border-radius: 12px;\r\n            border: 1px solid rgb(235, 235, 235);\r\n            cursor: pointer;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/user"}]}