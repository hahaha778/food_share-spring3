{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\admin\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\admin\\Main.vue","mtime":1733308393000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExpbmVDaGFydCBmcm9tICJAL2NvbXBvbmVudHMvTGluZUNoYXJ0IjsKaW1wb3J0IHsgdGltZUFnbyB9IGZyb20gIkAvdXRpbHMvZGF0YSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMaW5lQ2hhcnQKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhdGljRGF0YTogW10sCiAgICAgIGdvdXJtZXRMaXN0OiBbXSwKICAgICAgc2hhcmVWYWx1ZXM6IFtdLAogICAgICBzaGFyZURhdGVzOiBbXSwKICAgICAgZ291cm1ldFZhbHVlczogW10sCiAgICAgIGdvdXJtZXREYXRlczogW10sCiAgICAgIGRlZmF1bHRRdWVyeURheXM6IDM2NSAvLyDnlLHkuo7mlbDmja7lpKrlsJHvvIznm7TmjqXmn6XkuIDlubTmnaXmtYvor5UKCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZlbnRjaFN0YXRpY0NvdW50KCk7CiAgICB0aGlzLmZlbnRjaGdvdXJtZXQoKTsKICAgIHRoaXMubmV0SXRlbVNlbGVjdGVkKHRoaXMuZGVmYXVsdFF1ZXJ5RGF5cyk7CiAgICB0aGlzLmdvdXJtZXRJdGVtU2VsZWN0ZWQodGhpcy5kZWZhdWx0UXVlcnlEYXlzKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB0aW1lT3V0KHRpbWUpIHsKICAgICAgcmV0dXJuIHRpbWVBZ28odGltZSk7CiAgICB9LAoKICAgIC8vIOafpeivouaMh+WumuaXtumXtOWGheeahOe+jumjn+WBmuazleWtmOmHjwogICAgZ291cm1ldEl0ZW1TZWxlY3RlZChkYXkpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvZ291cm1ldC9kYXlzUXVlcnkvJHtkYXl9YCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuZ291cm1ldFZhbHVlcyA9IHJlcy5kYXRhLmRhdGEubWFwKG1vbmV5ID0+IG1vbmV5LmNvdW50KTsKICAgICAgICAgIHRoaXMuZ291cm1ldERhdGVzID0gcmVzLmRhdGEuZGF0YS5tYXAobW9uZXkgPT4gbW9uZXkubmFtZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLy8g5p+l6K+i5oyH5a6a5pe26Ze05YaF55qE5YaF5a655YiG5Lqr6YePCiAgICBuZXRJdGVtU2VsZWN0ZWQoZGF5KSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYC9jb250ZW50TmV0L2RheXNRdWVyeWAsIHsKICAgICAgICBkYXkKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuc2hhcmVWYWx1ZXMgPSByZXMuZGF0YS5kYXRhLm1hcChtb25leSA9PiBtb25leS5jb3VudCk7CiAgICAgICAgICB0aGlzLnNoYXJlRGF0ZXMgPSByZXMuZGF0YS5kYXRhLm1hcChtb25leSA9PiBtb25leS5uYW1lKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICByZWFkR291cm1ldChnb3VybWV0KSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2dvdXJtZXRJZCcsIGdvdXJtZXQuaWQpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3NlZUdvdXJtZXREZXRhaWwnKTsKICAgIH0sCgogICAgLy8g5p+l6K+i6ZiF6K+76YeP5pyA6auY55qE576O6aOf5YGa5rOV5pWw5o2uCiAgICBmZW50Y2hnb3VybWV0KCkgewogICAgICBjb25zdCBnb3VybWV0UXVlcnlEdG8gPSB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiA1CiAgICAgIH07CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9nb3VybWV0L3F1ZXJ5QnlWaWV3JywgZ291cm1ldFF1ZXJ5RHRvKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5nb3VybWV0TGlzdCA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLy8g5p+l6K+i6Z2Z5oCB5pWw5o2uCiAgICBmZW50Y2hTdGF0aWNDb3VudCgpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvdmlld3Mvc3RhdGljQ29udHJvbHMnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"box-sizing: border-box;overflow-y: hidden;overflow-x: hidden;\">\r\n        <el-row>\r\n            <el-col :span=\"16\">\r\n                <div>\r\n                    <div>\r\n                        <el-row style=\"padding-block: 20px;margin-inline: 30px;background-color: rgb(246,246,246);\">\r\n                            <el-col :span=\"4\" v-for=\"(staticItem, index) in staticData\" :key=\"index\">\r\n                                <div class=\"static-item\">\r\n                                    <el-statistic group-separator=\",\" :precision=\"0\" :value=\"staticItem.count\"\r\n                                        :title=\"staticItem.name\"></el-statistic>\r\n                                </div>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </div>\r\n                    <div>\r\n                        <div style=\"padding: 20px 60px;box-sizing: border-box;\">\r\n                            <LineChart height=\"280px\" tag=\"内容分享趋势\" @on-selected=\"netItemSelected\" :values=\"shareValues\"\r\n                                :date=\"shareDates\" />\r\n                        </div>\r\n                        <div style=\"padding: 20px 60px;box-sizing: border-box;\">\r\n                            <LineChart height=\"280px\" tag=\"收录美食做法\" @on-selected=\"gourmetItemSelected\"\r\n                                :values=\"gourmetValues\" :date=\"gourmetDates\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n                <div class=\"buttom\">\r\n                    <p style=\"font-size: 24px;\">最热帖子</p>\r\n                    <div class=\"gourmet-item\" v-for=\"(gourmet, index) in gourmetList\" :key=\"index\">\r\n                        <div class=\"left\">\r\n                            <img :src=\"gourmet.cover\" :alt=\"gourmet.title\" srcset=\"\">\r\n                        </div>\r\n                        <div class=\"right\">\r\n                            <div class=\"user\">\r\n                                <img :src=\"gourmet.userAvatar\" alt=\"\" srcset=\"\">\r\n                                <span>{{ gourmet.userName }}</span>\r\n                            </div>\r\n                            <div class=\"title\" @click=\"readGourmet(gourmet)\">{{ gourmet.title }}</div>\r\n                            <div class=\"info\">\r\n                                <span>{{ gourmet.categoryName }}</span>\r\n                                <span>\r\n                                    点赞({{ gourmet.upvoteCount}})\r\n                                </span>\r\n                                <span>\r\n                                    阅读({{ gourmet.viewCount }})\r\n                                </span>\r\n                                <span>\r\n                                    收藏({{ gourmet.saveCount }})\r\n                                </span>\r\n                                <span>{{ timeOut(gourmet.createTime) }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nimport { timeAgo } from \"@/utils/data\"\r\nexport default {\r\n    components: { LineChart },\r\n    data() {\r\n        return {\r\n            staticData: [],\r\n            gourmetList: [],\r\n            shareValues: [],\r\n            shareDates: [],\r\n            gourmetValues: [],\r\n            gourmetDates: [],\r\n            defaultQueryDays: 365, // 由于数据太少，直接查一年来测试\r\n        }\r\n    },\r\n    created() {\r\n        this.fentchStaticCount();\r\n        this.fentchgourmet();\r\n        this.netItemSelected(this.defaultQueryDays);\r\n        this.gourmetItemSelected(this.defaultQueryDays);\r\n    },\r\n    methods: {\r\n        timeOut(time) {\r\n            return timeAgo(time);\r\n        },\r\n        // 查询指定时间内的美食做法存量\r\n        gourmetItemSelected(day) {\r\n            this.$axios.get(`/gourmet/daysQuery/${day}`).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.gourmetValues = res.data.data.map(money => money.count);\r\n                    this.gourmetDates = res.data.data.map(money => money.name);\r\n                }\r\n            });\r\n        },\r\n        // 查询指定时间内的内容分享量\r\n        netItemSelected(day) {\r\n            this.$axios.post(`/contentNet/daysQuery`, { day }).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.shareValues = res.data.data.map(money => money.count);\r\n                    this.shareDates = res.data.data.map(money => money.name);\r\n                }\r\n            });\r\n        },\r\n        readGourmet(gourmet) {\r\n            sessionStorage.setItem('gourmetId', gourmet.id);\r\n            this.$router.push('/seeGourmetDetail');\r\n        },\r\n        // 查询阅读量最高的美食做法数据\r\n        fentchgourmet() {\r\n            const gourmetQueryDto = {\r\n                current: 1,\r\n                size: 5\r\n            }\r\n            this.$axios.post('/gourmet/queryByView', gourmetQueryDto).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.gourmetList = res.data.data;\r\n                }\r\n            });\r\n        },\r\n        // 查询静态数据\r\n        fentchStaticCount() {\r\n            this.$axios.get('/views/staticControls').then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.staticData = res.data.data;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.buttom {\r\n    padding: 0px 20px;\r\n    box-sizing: border-box;\r\n\r\n    .gourmet-item {\r\n        display: flex;\r\n        justify-content: left;\r\n        padding: 10px 0;\r\n        cursor: pointer;\r\n\r\n        .left {\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n\r\n            img {\r\n                width: 138px;\r\n                height: 80px;\r\n                border-radius: 5px;\r\n            }\r\n        }\r\n\r\n        .right {\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n\r\n            .user {\r\n                display: flex;\r\n                justify-content: left;\r\n                align-items: center;\r\n                margin-block: 4px;\r\n\r\n                img {\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border-radius: 10px;\r\n                }\r\n\r\n                span {\r\n                    margin-left: 4px;\r\n                    font-size: 14px;\r\n                }\r\n            }\r\n\r\n            .title {\r\n                font-size: 16px;\r\n                width: 200px;\r\n                font-weight: 800;\r\n                padding-bottom: 6px;\r\n                white-space: nowrap;\r\n                /* 防止文本换行 */\r\n                overflow: hidden;\r\n                /* 隐藏超出容器的文本 */\r\n                text-overflow: ellipsis;\r\n                /* 使用省略号表示被截断的文本 */\r\n            }\r\n\r\n            .title:hover {\r\n                text-decoration: underline;\r\n                text-decoration-style: dashed;\r\n            }\r\n\r\n            .detail {\r\n                font-size: 14px;\r\n                color: rgb(131, 130, 130);\r\n            }\r\n\r\n            .info {\r\n                font-size: 12px;\r\n                margin-top: 4px;\r\n                display: flex;\r\n                justify-content: left;\r\n                gap: 10px;\r\n\r\n                span:first-child {\r\n                    display: inline-block;\r\n                    padding: 1px 3px;\r\n                    border-radius: 2px;\r\n                    background-color: rgb(237, 243, 249);\r\n                    color: rgb(136, 115, 233);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</style>"],"sourceRoot":"src/views/admin"}]}