{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\Hot.vue?vue&type=style&index=0&id=a0d8acfa&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\Hot.vue","mtime":1733216188000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLml0ZW0tdHlwZSB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ2LCAyNDYsIDI0Nik7DQogICAgZ2FwOiAxNnB4Ow0KICAgIHBhZGRpbmc6IDE4cHggMTBweDsNCg0KICAgIHNwYW4gew0KICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICBwYWRkaW5nOiA0cHggMjBweDsNCiAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDsNCiAgICAgICAgY29sb3I6IHJnYig1MSwgNTEsIDUxKTsNCiAgICB9DQp9DQo="},{"version":3,"sources":["Hot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Hot.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"item-type\">\r\n            <span :style=\"{\r\n                backgroundColor: item.id === typeItem.id ? 'rgb(91, 142, 248)' : '',\r\n                color: item.id === typeItem.id ? 'rgb(245,245,245)' : ''\r\n            }\" @click=\"typeSelected(typeItem)\" v-for=\"(typeItem, index) in interactionTypes\" :key=\"index\">{{\r\n                typeItem.name\r\n            }}</span>\r\n        </div>\r\n        <LineChart @on-selected=\"onSelected\" :tag=\"tag\" height=\"500px\" :values=\"values\" :date=\"dates\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nexport default {\r\n    components: { LineChart },\r\n    name: \"Hot\",\r\n    data() {\r\n        return {\r\n            interactionQueryDto: {\r\n                day: 365, // 默认查一年\r\n            },\r\n            values: [],\r\n            dates: [],\r\n            interactionTypes: [],\r\n            item: {},\r\n            tag: '流量状况'\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchInteractionTypes();\r\n    },\r\n    methods: {\r\n        changeTag(type) {\r\n            if (type.id === 1) {\r\n                this.tag = '点赞量';\r\n            } else if (type.id === 2) {\r\n                this.tag = '收藏人数';\r\n            } else if (type.id === 3) {\r\n                this.tag = '阅读量';\r\n            } else if (type.id === 4) {\r\n                this.tag = '评分人数';\r\n            }\r\n        },\r\n        typeSelected(typeItem) {\r\n            this.changeTag(typeItem);\r\n            this.item = typeItem;\r\n            this.interactionQueryDto.type = typeItem.id;\r\n            this.fetchHotData();\r\n        },\r\n        fetchInteractionTypes() {\r\n            this.$axios.get('/interaction/types').then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.interactionTypes = data.data;\r\n                    this.typeSelected(this.interactionTypes[0]);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询互动类型异常\", error);\r\n            });\r\n        },\r\n        onSelected(day) {\r\n            this.interactionQueryDto.day = day;\r\n            this.fetchHotData();\r\n        },\r\n        fetchHotData() {\r\n            this.$axios.post('/interaction/daysQuery', this.interactionQueryDto).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    const datas = data.data;\r\n                    this.values = datas.map(entity => entity.count);\r\n                    this.dates = datas.map(entity => entity.name);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询流量状况数据异常\", error);\r\n\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.item-type {\r\n    display: flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n    background-color: rgb(246, 246, 246);\r\n    gap: 16px;\r\n    padding: 18px 10px;\r\n\r\n    span {\r\n        cursor: pointer;\r\n        font-size: 12px;\r\n        display: inline-block;\r\n        padding: 4px 20px;\r\n        border-radius: 15px;\r\n        color: rgb(51, 51, 51);\r\n    }\r\n}\r\n</style>\r\n"]}]}