{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\components\\Evaluations.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\components\\Evaluations.vue","mtime":1728032098000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB0aW1lQWdvIH0gZnJvbSAnQC91dGlscy9kYXRhJw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIHByb3BzOiB7DQogICAgICAgIGNvbnRlbnRJZDogew0KICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgZGVmYXVsdDogJycNCiAgICAgICAgfSwNCiAgICAgICAgY29udGVudFR5cGU6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnDQogICAgICAgIH0NCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB1c2VyRGF0YToge30sDQogICAgICAgICAgICBub3RlRGF0YToge30sDQogICAgICAgICAgICBjb21tZW50Q29udGVudDogJycsDQogICAgICAgICAgICBjb250ZW50OiAnJywNCiAgICAgICAgICAgIGNvbW1lbnRMaXN0OiBbXSwNCiAgICAgICAgICAgIHJlcGx5Q29udGVudDogJycsDQogICAgICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgICAgIGlzRm9jdXNlZDogZmFsc2UsDQogICAgICAgICAgICBiZ0NvbG9yOiAncmdiKDI0NSAyNDUgMjQ1KScsDQogICAgICAgICAgICBzdHJMZW5ndGg6ICcwLzMwMCcsDQogICAgICAgICAgICByZXBseVRleHQ6ICcnLA0KICAgICAgICAgICAgdXNlcklkOiAnJywNCiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGVSZXBvcnQ6IGZhbHNlLA0KICAgICAgICAgICAgcmVwb3J0czogW10sDQogICAgICAgICAgICBzZWxlY3RkU3RhdHVzOiBmYWxzZSwNCiAgICAgICAgICAgIGV2YWx1YXRpb25zQ291bnQ6IDAsDQogICAgICAgICAgICBjb21tZW50OiB7fSwNCiAgICAgICAgICAgIHJlcGx5Q2hpbGRDb250ZW50OiAnJywNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGNvbnRlbnRJZChuZXdWYWwsb2xkVmFsKXsNCiAgICAgICAgICAgIGlmKG5ld1ZhbCAhPT0gb2xkVmFsKXsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb21tZW50TGlzdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjb250ZW50KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCA9PT0gJycpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuZ2V0VXNlckluZm8oKTsNCiAgICAgICAgdGhpcy5sb2FkQ29tbWVudExpc3QoKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ2V0VXNlckluZm8oKSB7DQogICAgICAgICAgICBjb25zdCB1c2VySW5mbyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIik7DQogICAgICAgICAgICB0aGlzLnVzZXJEYXRhID0gSlNPTi5wYXJzZSh1c2VySW5mbyk7DQogICAgICAgICAgICB0aGlzLnVzZXJJZCA9IHRoaXMudXNlckRhdGEuaWQ7DQogICAgICAgIH0sDQogICAgICAgIC8vIOeCuei1niDmiJYg5Y+W5raI54K56LWeDQogICAgICAgIHVwdm90ZShjb21tZW50KSB7DQogICAgICAgICAgICBsZXQgdXB2b3RlTGlzdCA9IGNvbW1lbnQudXB2b3RlTGlzdCA/IGNvbW1lbnQudXB2b3RlTGlzdC5zcGxpdCgnLCcpIDogW107DQogICAgICAgICAgICBpZiAodXB2b3RlTGlzdC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAvLyDnlYzpnaLlj43mmKANCiAgICAgICAgICAgICAgICBpZiAoY29tbWVudC51cHZvdGVGbGFnKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIOWPlua2iOeCuei1ng0KICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB1cHZvdGVMaXN0LmluZGV4T2YodGhpcy51c2VyRGF0YS5pZC50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdXB2b3RlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOyAvLyDnp7vpmaTnlKjmiLdJRA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g54K56LWeDQogICAgICAgICAgICAgICAgICAgIGlmICghdXB2b3RlTGlzdC5pbmNsdWRlcyh0aGlzLnVzZXJEYXRhLnVzZXJJZC50b1N0cmluZygpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdXB2b3RlTGlzdC5wdXNoKHRoaXMudXNlckRhdGEudXNlcklkLnRvU3RyaW5nKCkpOyAvLyDmt7vliqDnlKjmiLdJRA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IGV2YWx1c3Rpb25zID0gew0KICAgICAgICAgICAgICAgIGlkOiBjb21tZW50LmlkLA0KICAgICAgICAgICAgICAgIHVwdm90ZUxpc3Q6IHVwdm90ZUxpc3QubGVuZ3RoID8gdXB2b3RlTGlzdC5qb2luKCcsJykgOiB0aGlzLnVzZXJEYXRhLmlkDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wdXQoYGV2YWx1YXRpb25zL3VwZGF0ZWAsIGV2YWx1c3Rpb25zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbW1lbnQudXB2b3RlTGlzdCA9IHVwdm90ZUxpc3Quam9pbignLCcpOyAvLyDmm7TmlrB1cHZvdGVMaXN05a2X56ym5LiyDQogICAgICAgICAgICAgICAgICAgIGNvbW1lbnQudXB2b3RlRmxhZyA9ICFjb21tZW50LnVwdm90ZUZsYWc7IC8vIOWIh+aNoueCuei1nueKtuaAgeagh+W/lw0KICAgICAgICAgICAgICAgICAgICBjb21tZW50LnVwdm90ZUNvdW50ICs9IDE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDngrnotZ7nirbmgIHorr7nva7lvILluLggLT4gYCwgZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vIOehruWumuS4vuaKpQ0KICAgICAgICBvcGVyYXRpb25SZXBvcnQoKSB7DQogICAgICAgICAgICBsZXQgcmVwb3J0SXRlbSA9IFtdOw0KICAgICAgICAgICAgdGhpcy5yZXBvcnRzLmZvckVhY2goZW50aXR5ID0+IHsNCiAgICAgICAgICAgICAgICBsZXQgZW50aXR5UmVwb3J0ID0gZW50aXR5Lmxpc3QuZmlsdGVyKGNoaWxkID0+IGNoaWxkLmlzU2VsZWN0ZWQpOw0KICAgICAgICAgICAgICAgIGlmIChlbnRpdHlSZXBvcnQubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICAgICAgcmVwb3J0SXRlbSA9IGVudGl0eVJlcG9ydDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmICghcmVwb3J0SXRlbS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKGDor7fpgInkuK3kuL7miqXpoblgKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoYGV2YWx1YXRpb25zLXJlcG9ydHMvcmVwb3J0LyR7dGhpcy5jb21tZW50LmlkfS8ke3JlcG9ydEl0ZW1bMF0ubmFtZX1gKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlUmVwb3J0ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4vuaKpeaTjeS9nCcsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5Li+5oql5oiQ5YqfJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMTAwDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4vuaKpeaTjeS9nCcsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXMuZGF0YS5tc2csDQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDExMDANCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDor4TorrrkuL7miqXlvILluLggLT4gYCwgZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vIOmAieS4reS4vuaKpemhuQ0KICAgICAgICByZXBvcnRJdGVtQ2xpY2soaXRlbUNoaWxkKSB7DQogICAgICAgICAgICB0aGlzLnJlcG9ydHMuZm9yRWFjaChlbnRpdHkgPT4gew0KICAgICAgICAgICAgICAgIGVudGl0eS5saXN0LmZvckVhY2goY2hpbGQgPT4gew0KICAgICAgICAgICAgICAgICAgICBjaGlsZC5pc1NlbGVjdGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICBpdGVtQ2hpbGQuaXNTZWxlY3RlZCA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIHJlcG9ydExpc3QoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoYGV2YWx1YXRpb25zL3JlcG9ydExpc3RgKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0cyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5kYXRhLmZvckVhY2goZW50aXR5ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBvcnQgPSB7IG5hbWU6IGVudGl0eS5uYW1lIH07DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9ydExpc3QgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5saXN0LmZvckVhY2gobGlzdEl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXBvcnRDaGlsZCA9IHt9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydENoaWxkLm5hbWUgPSBsaXN0SXRlbTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRDaGlsZC5pc1NlbGVjdGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9ydExpc3QucHVzaChyZXBvcnRDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0Lmxpc3QgPSByZXNwb3J0TGlzdDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0cy5wdXNoKHJlcG9ydCk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDkuL7miqXpobnliqDovb3lpLHotKUgLT4gYCwgZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHJlcG9ydENvbW1lbnQoY29tbWVudCkgew0KICAgICAgICAgICAgdGhpcy5yZXBvcnRMaXN0KCk7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGVSZXBvcnQgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5jb21tZW50ID0gY29tbWVudDsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlQ29tbWVudChjb21tZW50KSB7IC8vIOWIoOmZpOivhOiuug0KICAgICAgICAgICAgdGhpcy4kYXhpb3MuZGVsZXRlKGBldmFsdWF0aW9ucy9kZWxldGUvJHtjb21tZW50LmlkfWApLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZENvbW1lbnRMaXN0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDor4TorrrlvILluLggLT4gYCwgZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIG9uRm9jdXMoKSB7DQogICAgICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIC8vIOi+k+WFpeahhuWkseWOu+eEpueCuQ0KICAgICAgICBvbkJsdXIoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5jb250ZW50ID09PSAnJykgew0KICAgICAgICAgICAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBjb21tZW50Q2xpY2soKSB7DQogICAgICAgICAgICBpZiAodGhpcy5jb250ZW50ID09ICcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICflhoXlrrnmj5DnpLonLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn6K+E6K665YaF5a655Li656m6JywNCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRpbWVyOiA4MDANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBldmFsdWF0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogdGhpcy5jb250ZW50VHlwZSwNCiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQsDQogICAgICAgICAgICAgICAgY29udGVudElkOiB0aGlzLmNvbnRlbnRJZCwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYGV2YWx1YXRpb25zL2luc2VydGAsIGV2YWx1YXRpb25zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9ICcnOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfor4Torrrmk43kvZwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+ivhOiuuuaIkOWKnycsDQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTEwMA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb21tZW50TGlzdCgpDQogICAgICAgICAgICAgICAgICAgIH0sIDExMDApDQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7DQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ivhOiuuuW8guW4uCcsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXMuZGF0YS5tc2csDQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDExMDANCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDor4TorrrlvILluLggLT4gYCwgZXJyKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vIOeItue6p+ivhOiuuuWbnuWkjeeCueWHuw0KICAgICAgICB0b2dnbGVSZXBseUlucHV0KGNvbW1lbnQpIHsNCiAgICAgICAgICAgIHRoaXMucmVwbHlUZXh0ID0gYOWbnuWkjSR7Y29tbWVudC51c2VyTmFtZX0uLi5gOw0KICAgICAgICAgICAgaWYgKGNvbW1lbnQuc2hvd1JlcGx5SW5wdXQgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGNvbW1lbnQuc2hvd1JlcGx5SW5wdXQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbW1lbnQuc2hvd1JlcGx5SW5wdXQgPSAhY29tbWVudC5zaG93UmVwbHlJbnB1dDsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5a2Q57qn6K+E6K665Zue5aSN54K55Ye7DQogICAgICAgIHRvZ2dsZVJlcGx5SW5wdXQxKGNvbW1lbnQpIHsNCiAgICAgICAgICAgIGlmIChjb21tZW50LnJlcGx5SW5wdXRTdGF0dXMgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGNvbW1lbnQucmVwbHlJbnB1dFN0YXR1cyA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29tbWVudC5yZXBseUlucHV0U3RhdHVzID0gIWNvbW1lbnQucmVwbHlJbnB1dFN0YXR1czsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g54i257qn6K+E6K665Zue5aSN5o+Q5LqkDQogICAgICAgIHN1Ym1pdFJlcGx5KGNvbW1lbnQpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnJlcGx5Q29udGVudCA9PSAnJykgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOivhOiuuuWGheWuueS4jeiDveS4uuepumApOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGV2YWx1YXRpb25zRFRPID0gew0KICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0aGlzLmNvbnRlbnRUeXBlLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucmVwbHlDb250ZW50LA0KICAgICAgICAgICAgICAgIGNvbnRlbnRJZDogdGhpcy5jb250ZW50SWQsDQogICAgICAgICAgICAgICAgcGFyZW50SWQ6IGNvbW1lbnQuaWQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYGV2YWx1YXRpb25zL2luc2VydGAsIGV2YWx1YXRpb25zRFRPKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbHlDb250ZW50ID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGNvbW1lbnQuc2hvd1JlcGx5SW5wdXQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Zue5aSN5pON5L2cJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICflm57lpI3miJDlip8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEzMDANCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YeN5paw5Yqg6L296K+E6K665YiX6KGoDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb21tZW50TGlzdCgpOw0KICAgICAgICAgICAgICAgICAgICB9LCAxMzAwKQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfor4TorrrlvILluLgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzLmRhdGEubXNnLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMTAwDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg6K+E6K665byC5bi4IC0+IGAsIGVycik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvLyDlrZDnuqfor4Torrrlm57lpI3mj5DkuqQNCiAgICAgICAgc3VibWl0UmVwbHkxKGNvbW1lbnQpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnJlcGx5Q2hpbGRDb250ZW50ID09ICcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZShg6K+E6K665YaF5a655LiN6IO95Li656m6YCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZXZhbHVhdGlvbnNEVE8gPSB7DQogICAgICAgICAgICAgICAgcmVwbGllcklkOiBjb21tZW50LnVzZXJJZCwNCiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogdGhpcy5jb250ZW50VHlwZSwNCiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLnJlcGx5Q2hpbGRDb250ZW50LA0KICAgICAgICAgICAgICAgIGNvbnRlbnRJZDogdGhpcy5jb250ZW50SWQsDQogICAgICAgICAgICAgICAgcGFyZW50SWQ6IGNvbW1lbnQucGFyZW50SWQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYGV2YWx1YXRpb25zL2luc2VydGAsIGV2YWx1YXRpb25zRFRPKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9ICcnOw0KICAgICAgICAgICAgICAgICAgICBjb21tZW50LnJlcGx5SW5wdXRTdGF0dXMgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Zue5aSN5pON5L2cJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICflm57lpI3miJDlip8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEzMDANCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YeN5paw5Yqg6L296K+E6K665YiX6KGoDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRDb21tZW50TGlzdCgpOw0KICAgICAgICAgICAgICAgICAgICB9LCAxMzAwKQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfor4TorrrlvILluLgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzLmRhdGEubXNnLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMTAwDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg6K+E6K665byC5bi4IC0+IGAsIGVycik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBnb0JhY2soKSB7DQogICAgICAgICAgICAvLyDov5Tlm57kuIrkuIDnuqcNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7DQogICAgICAgIH0sDQogICAgICAgIC8vIOWKoOi9veivhOiuuuWIl+ihqA0KICAgICAgICBsb2FkQ29tbWVudExpc3QoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoYGV2YWx1YXRpb25zL2xpc3QvJHt0aGlzLmNvbnRlbnRJZH0vJHt0aGlzLmNvbnRlbnRUeXBlfWApLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tZW50TGlzdCA9IHJlcy5kYXRhLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmFsdWF0aW9uc0NvdW50ID0gcmVzLmRhdGEuZGF0YS5ldmFsdWF0aW9uc0NvdW50Ow0KICAgICAgICAgICAgICAgICAgICAvLyDniLbnuqfor4TorroNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tZW50TGlzdC5mb3JFYWNoKGVudGl0eSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDml7bpl7TovazmjaINCiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS50aW1lID0gdGltZUFnbyhlbnRpdHkuY3JlYXRlVGltZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlrZDnuqfor4TorroNCiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5jb21tZW50Q2hpbGRWT1MuZm9yRWFjaChlbnRpdHkgPT4gZW50aXR5LnRpbWUgPSB0aW1lQWdvKGVudGl0eS5jcmVhdGVUaW1lKSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg6K+E6K665p+l6K+i5byC5bi45byC5bi4IC0+IGAsIGVycik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgIH0NCn07ICANCg=="},{"version":3,"sources":["Evaluations.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Evaluations.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div style=\"width: 100%;\">\r\n        <el-row style=\"margin: 5px 0;\">\r\n            <h2 class=\"commentHeader\">评论&nbsp;{{ evaluationsCount }}</h2>\r\n            <el-row style=\"margin: 15px 0;\">\r\n                <el-col :span=\"2\">\r\n                    <el-avatar :src=\"userData.userAvatar\"></el-avatar>\r\n                </el-col>\r\n                <el-col :span=\"22\">\r\n                    <div class=\"parent-comment\"\r\n                        :style=\"{ backgroundColor: bgColor, height: isFocused ? '120px' : '70px', borderColor: isFocused ? '#007bff' : 'transparent' }\">\r\n                        <textarea class=\"comment-parent-input\" v-model=\"content\" placeholder=\"请友好交流\" @focus=\"onFocus\"\r\n                            @blur=\"onBlur\"></textarea>\r\n                        <div>\r\n                            <span class=\"comment-input-number\">{{ content.length }} / 300</span>\r\n                            <el-button\r\n                                :style=\"{ backgroundColor: isFocused ? '#007bff' : '#666', borderColor: isFocused ? '#007bff' : '#666' }\"\r\n                                @click=\"commentClick\" class=\"comment-clike\" size=\"mini\" type=\"primary\">评论</el-button>\r\n                        </div>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n        </el-row>\r\n        <el-row style=\"margin: 5px 0px;\">\r\n            <el-row v-for=\"(comment, index) in commentList \" :key=\"index\" style=\"padding: 10px 0;\">\r\n                <el-row>\r\n                    <el-col :span=\"2\">\r\n                        <el-avatar size=\"large\" :src=\"comment.userAvatar\"></el-avatar>\r\n                    </el-col>\r\n                    <el-col :span=\"22\">\r\n                        <span style=\"height: 40px;line-height: 40px;font-size: 16px;color: #515767;\">{{\r\n                            comment.userName }}</span>\r\n                        <span v-if=\"comment.userId == userId\" class=\"my-body-tag\">我自己</span>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row style=\"padding: 8px 0;\">\r\n                    <el-col :span=\"22\" :offset=\"2\">\r\n                        <span style=\"font-size: 16px;color: #252933;\">{{ comment.content }}</span>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row style=\"padding: 8px 0;\">\r\n                    <el-col :span=\"22\" :offset=\"2\">\r\n                        <span style=\"font-size: 14px;color: #8A919F;\">{{ comment.time }}</span>\r\n                        <el-popconfirm confirm-button-text='好的' cancel-button-text='不删了' icon=\"el-icon-info\"\r\n                            icon-color=\"red\" title=\"删除该条评论？\" v-if=\"comment.userId == userId\"\r\n                            @confirm=\"deleteComment(comment)\">\r\n                            <span slot=\"reference\"\r\n                                style=\"cursor: pointer;margin-left: 15px;font-size: 14px;color: #8A919F;user-select: none;\">\r\n                                <i class=\"el-icon-delete\"></i>\r\n                                删除\r\n                            </span>\r\n                        </el-popconfirm>\r\n                        <span @click=\"toggleReplyInput(comment)\"\r\n                            style=\"cursor: pointer;margin-left: 15px;font-size: 14px;color: #8A919F;user-select: none;\">\r\n                            <i class=\"el-icon-chat-dot-round\"></i>\r\n                            回复<span v-if=\"comment.childTotal != 0\">({{ comment.childTotal }})</span>\r\n                        </span>\r\n                        <span @click=\"upvote(comment)\"\r\n                            style=\"cursor: pointer;margin-left: 15px;font-size: 14px;color: #8A919F;user-select: none;\">\r\n                            <i class=\"el-icon-discount\" v-if=\"!comment.upvoteFlag\">点赞</i>\r\n                            <i class=\"el-icon-discount\" v-else style=\"color: #1E80FF;\">&nbsp;{{ comment.upvoteCount\r\n                                }}</i>\r\n                        </span>\r\n                    </el-col>\r\n                </el-row>\r\n                <!-- 父级评论的回复按钮和输入框 -->\r\n                <el-row v-if=\"comment.showReplyInput\" style=\"padding: 10px 0;\">\r\n                    <el-col :span=\"22\" :offset=\"2\">\r\n                        <div class=\"parent-comment\"\r\n                            :style=\"{ backgroundColor: bgColor, height: '110px', borderColor: '#007bff' }\">\r\n                            <textarea class=\"comment-parent-input\" v-model=\"replyContent\"\r\n                                :placeholder=\"replyText\"></textarea>\r\n                            <div>\r\n                                <span class=\"comment-input-number\">{{ replyContent.length }} / 300</span>\r\n                                <el-button style=\"background-color: #007bff;user-select: none;\"\r\n                                    @click=\"submitReply(comment)\" class=\"comment-clike\" size=\"mini\"\r\n                                    type=\"primary\">评论</el-button>\r\n                            </div>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n                <!-- 子级评论 -->\r\n                <el-row v-for=\"(commentChild, index) in comment.commentChildVOS \" :key=\"index\"\r\n                    style=\"padding: 10px 15px;font-size: 16px;\">\r\n                    <el-row>\r\n                        <el-col :span=\"22\" :offset=\"2\">\r\n                            <el-row style=\"display: flex; align-items: center; flex-wrap: wrap;\">\r\n                                <el-avatar size=\"small\" :src=\"commentChild.userAvatar\"\r\n                                    style=\"margin-right: 5px;\"></el-avatar>\r\n                                <span style=\"color: #515767; padding: 0 5px;\">{{ commentChild.userName }}</span>\r\n                                <span v-if=\"commentChild.userId == userId\" class=\"my-body-tag\">我自己</span>\r\n                                <span v-if=\"commentChild.replierName != null\"\r\n                                    style=\"margin:0 15px;color: #1c1c1c;user-select: none;font-size: 12px;\">\r\n                                    回复\r\n                                </span>\r\n                                <el-avatar v-if=\"commentChild.replierName != null\" size=\"small\"\r\n                                    :src=\"commentChild.replierAvatar\" style=\"margin-right: 5px;\"></el-avatar>\r\n                                <span v-if=\"commentChild.replierName != null\" style=\"color: #515767;padding: 0 5px;\">{{\r\n                                    commentChild.replierName }}</span>\r\n                                <span v-if=\"commentChild.replierId == userId\" class=\"my-body-tag\">我自己</span>\r\n                                <span\r\n                                    style=\"letter-spacing: 1px;font-size: 16px; color: #252933; white-space: normal; margin-left: 5px;padding: 6px 0;\">\r\n                                    : {{ commentChild.content }}\r\n                                </span>\r\n                            </el-row>\r\n                            <el-row style=\"padding: 10px 0;\">\r\n                                <span style=\"font-size: 14px;color: #8A919F;\">{{ commentChild.time }}</span>\r\n                                <el-popconfirm confirm-button-text='好的' cancel-button-text='不删了' icon=\"el-icon-info\"\r\n                                    icon-color=\"red\" title=\"删除该条评论？\" v-if=\"commentChild.userId == userId\"\r\n                                    @confirm=\"deleteComment(commentChild)\">\r\n                                    <span slot=\"reference\"\r\n                                        style=\"cursor: pointer;margin-left: 15px;font-size: 14px;color: #8A919F;user-select: none;\">\r\n                                        <i class=\"el-icon-delete\"></i>\r\n                                        删除\r\n                                    </span>\r\n                                </el-popconfirm>\r\n                                <span @click=\"toggleReplyInput1(commentChild)\"\r\n                                    style=\"cursor: pointer;margin-left: 15px;font-size: 14px;color: #8A919F;user-select: none;\">\r\n                                    <i class=\"el-icon-chat-dot-round\"></i>\r\n                                    回复\r\n                                </span>\r\n                                <span @click=\"upvote(commentChild)\"\r\n                                    style=\"cursor: pointer;margin-left: 15px;font-size: 14px;color: #8A919F;user-select: none;\">\r\n                                    <i class=\"el-icon-discount\" v-if=\"!commentChild.upvoteFlag\">点赞</i>\r\n                                    <i class=\"el-icon-discount\" v-else style=\"color: #1E80FF;\">&nbsp;{{\r\n                                        commentChild.upvoteCount }}</i>\r\n                                </span>\r\n                            </el-row>\r\n                            <!-- 子级评论的回复按钮和输入框 -->\r\n                            <el-row v-if=\"commentChild.replyInputStatus\" style=\"padding: 10px 0;\">\r\n                                <el-col :span=\"24\">\r\n                                    <div class=\"parent-comment\"\r\n                                        :style=\"{ backgroundColor: bgColor, height: '110px', borderColor: '#007bff' }\">\r\n                                        <textarea class=\"comment-parent-input\" v-model=\"replyChildContent\"\r\n                                            :placeholder=\"replyText\"></textarea>\r\n                                        <div>\r\n                                            <span class=\"comment-input-number\">{{ replyChildContent.length }} /\r\n                                                300</span>\r\n                                            <el-button style=\"background-color: #007bff;\"\r\n                                                @click=\"submitReply1(commentChild)\" class=\"comment-clike\" size=\"mini\"\r\n                                                type=\"primary\">评论</el-button>\r\n                                        </div>\r\n                                    </div>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-row>\r\n            </el-row>\r\n        </el-row>\r\n        <!-- 举报反馈对话框 -->\r\n        <el-dialog style=\"user-select: none;border-radius: 5px;\" title=\"我要举报\" :visible.sync=\"dialogVisibleReport\"\r\n            width=\"30%\">\r\n            <el-row v-for=\"(item, index) in reports\" :key=\"index\" style=\"margin-top: 10px;\">\r\n                <el-row style=\"padding-bottom: 10px;user-select: none;\">*{{ item.name }}</el-row>\r\n                <el-row>\r\n                    <span v-for=\"(itemChild, indexChild) in item.list\" :key=\"indexChild\"\r\n                        @click=\"reportItemClick(itemChild)\">\r\n                        <button :style=\"{ border: itemChild.isSelected ? '1px solid #4b87bc' : '1px solid #f4f4f4' }\"\r\n                            class=\"reportItem\">\r\n                            {{ itemChild.name }}\r\n                        </button>\r\n                    </span>\r\n                </el-row>\r\n            </el-row>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <button class=\"cannel-btn\" @click=\"dialogVisibleReport = false\">取消</button>\r\n                <button class=\"yes-btn\" @click=\"operationReport\">确定举报</button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { timeAgo } from '@/utils/data'\r\nexport default {\r\n    props: {\r\n        contentId: {\r\n            type: Number,\r\n            default: ''\r\n        },\r\n        contentType: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            userData: {},\r\n            noteData: {},\r\n            commentContent: '',\r\n            content: '',\r\n            commentList: [],\r\n            replyContent: '',\r\n            id: null,\r\n            isFocused: false,\r\n            bgColor: 'rgb(245 245 245)',\r\n            strLength: '0/300',\r\n            replyText: '',\r\n            userId: '',\r\n            dialogVisibleReport: false,\r\n            reports: [],\r\n            selectdStatus: false,\r\n            evaluationsCount: 0,\r\n            comment: {},\r\n            replyChildContent: '',\r\n        };\r\n    },\r\n    watch: {\r\n        contentId(newVal,oldVal){\r\n            if(newVal !== oldVal){\r\n                this.loadCommentList();\r\n            }\r\n        },\r\n        content() {\r\n            if (this.content === '') {\r\n                this.isFocused = false;\r\n                return;\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.getUserInfo();\r\n        this.loadCommentList();\r\n    },\r\n    methods: {\r\n        getUserInfo() {\r\n            const userInfo = sessionStorage.getItem(\"userInfo\");\r\n            this.userData = JSON.parse(userInfo);\r\n            this.userId = this.userData.id;\r\n        },\r\n        // 点赞 或 取消点赞\r\n        upvote(comment) {\r\n            let upvoteList = comment.upvoteList ? comment.upvoteList.split(',') : [];\r\n            if (upvoteList.length) {\r\n                // 界面反映\r\n                if (comment.upvoteFlag) {\r\n                    // 取消点赞\r\n                    let index = upvoteList.indexOf(this.userData.id.toString());\r\n                    if (index !== -1) {\r\n                        upvoteList.splice(index, 1); // 移除用户ID\r\n                    }\r\n                } else {\r\n                    // 点赞\r\n                    if (!upvoteList.includes(this.userData.userId.toString())) {\r\n                        upvoteList.push(this.userData.userId.toString()); // 添加用户ID\r\n                    }\r\n                }\r\n            }\r\n            let evalustions = {\r\n                id: comment.id,\r\n                upvoteList: upvoteList.length ? upvoteList.join(',') : this.userData.id\r\n            }\r\n            this.$axios.put(`evaluations/update`, evalustions).then(res => {\r\n                if (res.data.code == 200) {\r\n                    comment.upvoteList = upvoteList.join(','); // 更新upvoteList字符串\r\n                    comment.upvoteFlag = !comment.upvoteFlag; // 切换点赞状态标志\r\n                    comment.upvoteCount += 1;\r\n                }\r\n            }).catch(err => {\r\n                console.error(`点赞状态设置异常 -> `, err);\r\n            })\r\n        },\r\n        // 确定举报\r\n        operationReport() {\r\n            let reportItem = [];\r\n            this.reports.forEach(entity => {\r\n                let entityReport = entity.list.filter(child => child.isSelected);\r\n                if (entityReport.length != 0) {\r\n                    reportItem = entityReport;\r\n                }\r\n            });\r\n            if (!reportItem.length) {\r\n                this.$message(`请选中举报项`);\r\n                return;\r\n            }\r\n            this.$axios.get(`evaluations-reports/report/${this.comment.id}/${reportItem[0].name}`).then(res => {\r\n                this.dialogVisibleReport = false;\r\n                if (res.data.code == 200) {\r\n                    this.$swal.fire({\r\n                        title: '举报操作',\r\n                        text: '举报成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1100\r\n                    });\r\n                } else {\r\n                    this.$swal.fire({\r\n                        title: '举报操作',\r\n                        text: res.data.msg,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 1100\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.error(`评论举报异常 -> `, err);\r\n            })\r\n        },\r\n        // 选中举报项\r\n        reportItemClick(itemChild) {\r\n            this.reports.forEach(entity => {\r\n                entity.list.forEach(child => {\r\n                    child.isSelected = false;\r\n                })\r\n            })\r\n            itemChild.isSelected = true;\r\n        },\r\n        reportList() {\r\n            this.$axios.get(`evaluations/reportList`).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.reports = [];\r\n                    res.data.data.forEach(entity => {\r\n                        let report = { name: entity.name };\r\n                        let resportList = [];\r\n                        entity.list.forEach(listItem => {\r\n                            let reportChild = {};\r\n                            reportChild.name = listItem;\r\n                            reportChild.isSelected = false;\r\n                            resportList.push(reportChild);\r\n                        })\r\n                        report.list = resportList;\r\n                        this.reports.push(report);\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.error(`举报项加载失败 -> `, err);\r\n            })\r\n        },\r\n        reportComment(comment) {\r\n            this.reportList();\r\n            this.dialogVisibleReport = true;\r\n            this.comment = comment;\r\n        },\r\n        deleteComment(comment) { // 删除评论\r\n            this.$axios.delete(`evaluations/delete/${comment.id}`).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.$message.success(res.data.msg);\r\n                    this.loadCommentList();\r\n                }\r\n            }).catch(err => {\r\n                console.error(`评论异常 -> `, err);\r\n            })\r\n        },\r\n        onFocus() {\r\n            this.isFocused = true;\r\n        },\r\n        // 输入框失去焦点\r\n        onBlur() {\r\n            if (this.content === '') {\r\n                this.isFocused = false;\r\n                return;\r\n            }\r\n            this.isFocused = true;\r\n        },\r\n        commentClick() {\r\n            if (this.content == '') {\r\n                this.$swal.fire({\r\n                    title: '内容提示',\r\n                    text: '评论内容为空',\r\n                    icon: 'success',\r\n                    showConfirmButton: false,\r\n                    timer: 800\r\n                });\r\n                return;\r\n            }\r\n            const evaluations = {\r\n                contentType: this.contentType,\r\n                content: this.content,\r\n                contentId: this.contentId,\r\n            }\r\n            this.$axios.post(`evaluations/insert`, evaluations).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.content = '';\r\n                    this.$swal.fire({\r\n                        title: '评论操作',\r\n                        text: '评论成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1100\r\n                    });\r\n                    setTimeout(() => {\r\n                        this.loadCommentList()\r\n                    }, 1100)\r\n                }else{\r\n                    this.$swal.fire({\r\n                        title: '评论异常',\r\n                        text: res.data.msg,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 1100\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.error(`评论异常 -> `, err);\r\n            })\r\n        },\r\n        // 父级评论回复点击\r\n        toggleReplyInput(comment) {\r\n            this.replyText = `回复${comment.userName}...`;\r\n            if (comment.showReplyInput == null) {\r\n                comment.showReplyInput = false;\r\n            }\r\n            comment.showReplyInput = !comment.showReplyInput;\r\n        },\r\n        // 子级评论回复点击\r\n        toggleReplyInput1(comment) {\r\n            if (comment.replyInputStatus == null) {\r\n                comment.replyInputStatus = false;\r\n            }\r\n            comment.replyInputStatus = !comment.replyInputStatus;\r\n        },\r\n        // 父级评论回复提交\r\n        submitReply(comment) {\r\n            if (this.replyContent == '') {\r\n                this.$message(`评论内容不能为空`);\r\n                return;\r\n            }\r\n            const evaluationsDTO = {\r\n                contentType: this.contentType,\r\n                content: this.replyContent,\r\n                contentId: this.contentId,\r\n                parentId: comment.id\r\n            }\r\n            this.$axios.post(`evaluations/insert`, evaluationsDTO).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.replyContent = '';\r\n                    comment.showReplyInput = false;\r\n                    this.$swal.fire({\r\n                        title: '回复操作',\r\n                        text: '回复成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1300\r\n                    });\r\n                    setTimeout(() => {\r\n                        // 重新加载评论列表\r\n                        this.loadCommentList();\r\n                    }, 1300)\r\n                }else{\r\n                    this.$swal.fire({\r\n                        title: '评论异常',\r\n                        text: res.data.msg,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 1100\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.error(`评论异常 -> `, err);\r\n            })\r\n        },\r\n        // 子级评论回复提交\r\n        submitReply1(comment) {\r\n            if (this.replyChildContent == '') {\r\n                this.$message(`评论内容不能为空`);\r\n                return;\r\n            }\r\n            const evaluationsDTO = {\r\n                replierId: comment.userId,\r\n                contentType: this.contentType,\r\n                content: this.replyChildContent,\r\n                contentId: this.contentId,\r\n                parentId: comment.parentId\r\n            }\r\n            this.$axios.post(`evaluations/insert`, evaluationsDTO).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.content = '';\r\n                    comment.replyInputStatus = false;\r\n                    this.$swal.fire({\r\n                        title: '回复操作',\r\n                        text: '回复成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1300\r\n                    });\r\n                    setTimeout(() => {\r\n                        // 重新加载评论列表\r\n                        this.loadCommentList();\r\n                    }, 1300)\r\n                }else{\r\n                    this.$swal.fire({\r\n                        title: '评论异常',\r\n                        text: res.data.msg,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: 1100\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.error(`评论异常 -> `, err);\r\n            })\r\n        },\r\n        goBack() {\r\n            // 返回上一级\r\n            this.$router.go(-1);\r\n        },\r\n        // 加载评论列表\r\n        loadCommentList() {\r\n            this.$axios.get(`evaluations/list/${this.contentId}/${this.contentType}`).then(res => {\r\n                if (res.data.code == 200) {\r\n                    this.commentList = res.data.data.data;\r\n                    this.evaluationsCount = res.data.data.evaluationsCount;\r\n                    // 父级评论\r\n                    this.commentList.forEach(entity => {\r\n                        // 时间转换\r\n                        entity.time = timeAgo(entity.createTime);\r\n                        // 子级评论\r\n                        entity.commentChildVOS.forEach(entity => entity.time = timeAgo(entity.createTime));\r\n                    });\r\n                }\r\n            }).catch(err => {\r\n                console.error(`评论查询异常异常 -> `, err);\r\n            })\r\n        },\r\n    }\r\n};  \r\n</script>\r\n<style lang=\"scss\">\r\n.cannel-btn,\r\n.yes-btn {\r\n    padding: 0px 15px 5px 15px;\r\n    font-size: 14px !important;\r\n    margin: 0 10px;\r\n    border-radius: 3px;\r\n    border: none;\r\n}\r\n\r\n.cannel-btn {\r\n    color: #1c1c1c;\r\n}\r\n\r\n.yes-btn {\r\n    background-color: #4b87bc;\r\n    color: #EAF2FF;\r\n}\r\n\r\n.cannel-btn:hover {\r\n    background-color: #f5f5f5;\r\n}\r\n\r\n.yes-btn:hover {\r\n    background-color: #66a8e1;\r\n}\r\n\r\n.commentHeader {\r\n    color: #252933;\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    line-height: 30px;\r\n}\r\n\r\n.comment-parent-input {\r\n    outline: none;\r\n    border: none;\r\n    background-color: rgb(245 245 245);\r\n    font-size: 16px;\r\n    padding: 6px;\r\n    width: 100%;\r\n    min-height: 60px;\r\n    overflow: auto;\r\n    resize: vertical;\r\n    user-select: none;\r\n    margin: 0 0 20px 0;\r\n    display: block;\r\n}\r\n\r\n.parent-comment {\r\n    padding: 6px 12px;\r\n    border-radius: 3px;\r\n    transition: height 0.3s ease, border-color 0.3s ease;\r\n    border: 1px solid transparent;\r\n    user-select: none;\r\n    position: relative;\r\n}\r\n\r\n.comment-input-number {\r\n    position: absolute;\r\n    left: 10px;\r\n    bottom: 5px;\r\n    padding: 0 6px;\r\n    font-size: 12px;\r\n    color: #666;\r\n}\r\n\r\n.comment-clike {\r\n    position: absolute;\r\n    right: 10px;\r\n    bottom: 5px;\r\n}\r\n\r\n.my-body-tag {\r\n    font-size: 12px;\r\n    padding: 3px 4px;\r\n    color: #1E80FF;\r\n    background-color: #EAF2FF;\r\n    margin-left: 5px;\r\n}\r\n\r\n.reportItem {\r\n    display: inline-block;\r\n    padding: 8px 22px;\r\n    background-color: #f4f4f4;\r\n    border: 1px solid #f4f4f4;\r\n    margin: 5px 3px 5px 0;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n\r\n.reportItem:hover {\r\n    border: 1px solid #4b87bc;\r\n    color: #4b87bc;\r\n}\r\n</style>"]}]}