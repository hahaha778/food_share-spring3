{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\Hot.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\Hot.vue","mtime":1733216188000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTGluZUNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9MaW5lQ2hhcnQiDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogeyBMaW5lQ2hhcnQgfSwNCiAgICBuYW1lOiAiSG90IiwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgaW50ZXJhY3Rpb25RdWVyeUR0bzogew0KICAgICAgICAgICAgICAgIGRheTogMzY1LCAvLyDpu5jorqTmn6XkuIDlubQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB2YWx1ZXM6IFtdLA0KICAgICAgICAgICAgZGF0ZXM6IFtdLA0KICAgICAgICAgICAgaW50ZXJhY3Rpb25UeXBlczogW10sDQogICAgICAgICAgICBpdGVtOiB7fSwNCiAgICAgICAgICAgIHRhZzogJ+a1gemHj+eKtuWGtScNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5mZXRjaEludGVyYWN0aW9uVHlwZXMoKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgY2hhbmdlVGFnKHR5cGUpIHsNCiAgICAgICAgICAgIGlmICh0eXBlLmlkID09PSAxKSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWcgPSAn54K56LWe6YePJzsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZS5pZCA9PT0gMikgew0KICAgICAgICAgICAgICAgIHRoaXMudGFnID0gJ+aUtuiXj+S6uuaVsCc7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUuaWQgPT09IDMpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRhZyA9ICfpmIXor7vph48nOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlLmlkID09PSA0KSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWcgPSAn6K+E5YiG5Lq65pWwJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgdHlwZVNlbGVjdGVkKHR5cGVJdGVtKSB7DQogICAgICAgICAgICB0aGlzLmNoYW5nZVRhZyh0eXBlSXRlbSk7DQogICAgICAgICAgICB0aGlzLml0ZW0gPSB0eXBlSXRlbTsNCiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25RdWVyeUR0by50eXBlID0gdHlwZUl0ZW0uaWQ7DQogICAgICAgICAgICB0aGlzLmZldGNoSG90RGF0YSgpOw0KICAgICAgICB9LA0KICAgICAgICBmZXRjaEludGVyYWN0aW9uVHlwZXMoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoJy9pbnRlcmFjdGlvbi90eXBlcycpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlczsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblR5cGVzID0gZGF0YS5kYXRhOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGVTZWxlY3RlZCh0aGlzLmludGVyYWN0aW9uVHlwZXNbMF0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i5LqS5Yqo57G75Z6L5byC5bi4IiwgZXJyb3IpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIG9uU2VsZWN0ZWQoZGF5KSB7DQogICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uUXVlcnlEdG8uZGF5ID0gZGF5Ow0KICAgICAgICAgICAgdGhpcy5mZXRjaEhvdERhdGEoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZmV0Y2hIb3REYXRhKCkgew0KICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2ludGVyYWN0aW9uL2RheXNRdWVyeScsIHRoaXMuaW50ZXJhY3Rpb25RdWVyeUR0bykudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzOw0KICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhcyA9IGRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBkYXRhcy5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZXMgPSBkYXRhcy5tYXAoZW50aXR5ID0+IGVudGl0eS5uYW1lKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuafpeivoua1gemHj+eKtuWGteaVsOaNruW8guW4uCIsIGVycm9yKTsNCg0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQp9Ow0K"},{"version":3,"sources":["Hot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Hot.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"item-type\">\r\n            <span :style=\"{\r\n                backgroundColor: item.id === typeItem.id ? 'rgb(91, 142, 248)' : '',\r\n                color: item.id === typeItem.id ? 'rgb(245,245,245)' : ''\r\n            }\" @click=\"typeSelected(typeItem)\" v-for=\"(typeItem, index) in interactionTypes\" :key=\"index\">{{\r\n                typeItem.name\r\n            }}</span>\r\n        </div>\r\n        <LineChart @on-selected=\"onSelected\" :tag=\"tag\" height=\"500px\" :values=\"values\" :date=\"dates\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nexport default {\r\n    components: { LineChart },\r\n    name: \"Hot\",\r\n    data() {\r\n        return {\r\n            interactionQueryDto: {\r\n                day: 365, // 默认查一年\r\n            },\r\n            values: [],\r\n            dates: [],\r\n            interactionTypes: [],\r\n            item: {},\r\n            tag: '流量状况'\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchInteractionTypes();\r\n    },\r\n    methods: {\r\n        changeTag(type) {\r\n            if (type.id === 1) {\r\n                this.tag = '点赞量';\r\n            } else if (type.id === 2) {\r\n                this.tag = '收藏人数';\r\n            } else if (type.id === 3) {\r\n                this.tag = '阅读量';\r\n            } else if (type.id === 4) {\r\n                this.tag = '评分人数';\r\n            }\r\n        },\r\n        typeSelected(typeItem) {\r\n            this.changeTag(typeItem);\r\n            this.item = typeItem;\r\n            this.interactionQueryDto.type = typeItem.id;\r\n            this.fetchHotData();\r\n        },\r\n        fetchInteractionTypes() {\r\n            this.$axios.get('/interaction/types').then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.interactionTypes = data.data;\r\n                    this.typeSelected(this.interactionTypes[0]);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询互动类型异常\", error);\r\n            });\r\n        },\r\n        onSelected(day) {\r\n            this.interactionQueryDto.day = day;\r\n            this.fetchHotData();\r\n        },\r\n        fetchHotData() {\r\n            this.$axios.post('/interaction/daysQuery', this.interactionQueryDto).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    const datas = data.data;\r\n                    this.values = datas.map(entity => entity.count);\r\n                    this.dates = datas.map(entity => entity.name);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询流量状况数据异常\", error);\r\n\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.item-type {\r\n    display: flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n    background-color: rgb(246, 246, 246);\r\n    gap: 16px;\r\n    padding: 18px 10px;\r\n\r\n    span {\r\n        cursor: pointer;\r\n        font-size: 12px;\r\n        display: inline-block;\r\n        padding: 4px 20px;\r\n        border-radius: 15px;\r\n        color: rgb(51, 51, 51);\r\n    }\r\n}\r\n</style>\r\n"]}]}