{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\MyCookbook.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\MyCookbook.vue","mtime":1733212792000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRWRpdG9yIGZyb20gIkAvY29tcG9uZW50cy9FZGl0b3IiDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogeyBFZGl0b3IgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JywNCiAgICAgICAgICAgIGRhdGE6IHt9LA0KICAgICAgICAgICAgZmlsdGVyVGV4dDogJycsDQogICAgICAgICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgICAgICAgIHBhZ2VTaXplOiAyMCwNCiAgICAgICAgICAgIHRvdGFsSXRlbXM6IDAsDQogICAgICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICAgICAgZGVsZWN0ZWRSb3dzOiBbXSwNCiAgICAgICAgICAgIHNlYXJjaFRpbWU6IFtdLA0KICAgICAgICAgICAgY292ZXI6IG51bGwsDQogICAgICAgICAgICBjb29rYm9va051dHJpbWVudExpc3Q6IFtdLA0KICAgICAgICAgICAgbnV0cmltZW50UXVlcnlEdG86IHsgaXNQdWJsaXNoOiB0cnVlIH0sIC8vIOWPquimgeWFrOW8gOeahA0KICAgICAgICAgICAgZGlhbG9nQ29uZmlnT3BlcmF0aW9uOiBmYWxzZSwgLy8g6YWN572u5by556qXDQogICAgICAgICAgICBkaWFsb2dDb29rYm9va09wZXJhaW9uOiBmYWxzZSwgLy8g5by556qXDQogICAgICAgICAgICBpc09wZXJhdGlvbjogZmFsc2UsIC8vIOm7mOiupOaWsOWing0KICAgICAgICAgICAgbnV0cmltZW50TGlzdDogW10sDQogICAgICAgICAgICBjb29rYm9va1F1ZXJ5RHRvOiB7fSwgLy8g5pCc57Si5p2h5Lu2DQogICAgICAgICAgICBzcGFjZU51dHJpbWVudDoge30sDQogICAgICAgIH07DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgIHRoaXMuZmV0Y2hGcmVzaENhdGVnb3JpZXMoKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgaGFuZGxlQ292ZXJTdWNjZXNzKHJlcywgZmlsZSkgew0KICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WwgemdouS4iuS8oCcsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmNvZGUgPT09IDIwMCA/ICfkuIrkvKDmiJDlip8nIDogJ+S4iuS8oOWksei0pScsDQogICAgICAgICAgICAgICAgdHlwZTogcmVzLmNvZGUgPT09IDIwMCA/ICdzdWNjZXNzJyA6ICdlcnJvcicNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8g5LiK5Lyg5oiQ5Yqf5YiZ5pu05paw5bCB6Z2iDQogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuY292ZXIgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlybVVwYWR0ZU51dHJpbWVudENvbmZpZygpIHsNCiAgICAgICAgICAgIGNvbnN0IGNvb2tib29rTnV0cmltZW50ID0gew0KICAgICAgICAgICAgICAgIGlkOiB0aGlzLnNwYWNlTnV0cmltZW50LmlkLA0KICAgICAgICAgICAgICAgIGcxMDBWYWx1ZTogdGhpcy5zcGFjZU51dHJpbWVudC5nMTAwVmFsdWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9jb29rYm9va051dHJpbWVudC9zYXZlJywgY29va2Jvb2tOdXRyaW1lbnQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIOaPkOekuumFjee9ruaIkOWKnw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsDQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+iQpeWFu+e0oOmFjee9ruaTjeS9nCcsDQogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5L+u5pS56YWN572u5oiQ5YqfJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVOYW1lID0gJ3NlY29uZCc7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfokKXlhbvntKDphY3nva7mk43kvZwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuS/ruaUuemjn+iwseiQpeWFu+e0oOWFs+iBlOS/oeaBr+W8guW4uO+8miIsIGVycm9yKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICAvLyDkv67mlLnpo5/osLHlhbPogZTnmoTokKXlhbvntKDkv6Hmga8NCiAgICAgICAgdXBkYXRlTnV0cmltZW50Q29uZmlnKG51dHJpbWVudCkgew0KICAgICAgICAgICAgdGhpcy5zcGFjZU51dHJpbWVudCA9IG51dHJpbWVudDsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGU6IiwgbnV0cmltZW50KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5Yig6Zmk6aOf6LCx5YWz6IGU55qE6JCl5YW757Sg5L+h5oGvDQogICAgICAgIGRlbE51dHJpbWVudENvbmZpZyhudXRyaW1lbnQpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJkZWw6IiwgbnV0cmltZW50KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g56Gu5a6a6JCl5YW757Sg6YWN572uDQogICAgICAgIGNvbmZpcm1OdXRyaW1lbnRDb25maWcoKSB7DQogICAgICAgICAgICAvLyDmnoTpgKDlhbPogZTlr7nosaENCiAgICAgICAgICAgIGNvbnN0IGNvb2tib29rTnV0cmltZW50ID0gew0KICAgICAgICAgICAgICAgIGNvb2tib29rSWQ6IHRoaXMuZGF0YS5pZCwNCiAgICAgICAgICAgICAgICBudXRyaW1lbnRJZDogdGhpcy5zcGFjZU51dHJpbWVudC5pZCwNCiAgICAgICAgICAgICAgICBnMTAwVmFsdWU6IHRoaXMuc3BhY2VOdXRyaW1lbnQuZzEwMFZhbHVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvY29va2Jvb2tOdXRyaW1lbnQvc2F2ZScsIGNvb2tib29rTnV0cmltZW50KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAvLyDmj5DnpLrphY3nva7miJDlip8NCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfokKXlhbvntKDphY3nva7mk43kvZwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mFjee9ruaIkOWKnycsDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTmFtZSA9ICdzZWNvbmQnOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6JCl5YW757Sg6YWN572u5pON5L2cJywNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZywNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmlrDlop7po5/osLHokKXlhbvntKDlhbPogZTkv6Hmga/lvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlnTnV0cmltZW50SW5mbyhudXRyaW1lbnQpIHsNCiAgICAgICAgICAgIHRoaXMuc3BhY2VOdXRyaW1lbnQgPSBudXRyaW1lbnQ7DQogICAgICAgIH0sDQogICAgICAgIC8vIOagh+etvumhteWIh+aNog0KICAgICAgICBoYW5kbGVUYWJDbGljayh0YWIsIGV2ZW50KSB7DQogICAgICAgICAgICBpZiAodGFiLmluZGV4ID09PSAnMCcpIHsgLy8g5p+l55qE6JCl5YW757Sg5L+h5oGvDQogICAgICAgICAgICAgICAgdGhpcy5mZXRjaE51dHJpbWVudExpc3QoKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFiLmluZGV4ID09PSAnMScpIHsgLy8g5p+l55qE5piv6YWN572u5L+h5oGvDQogICAgICAgICAgICAgICAgdGhpcy5mZXRjaENvb2tib29rTnV0cmltZW50RGF0YSh0aGlzLmRhdGEuaWQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvLyDmn6Xor6Lpo5/osLHlhbPogZTnmoTokKXlhbvntKDkv6Hmga8NCiAgICAgICAgZmV0Y2hDb29rYm9va051dHJpbWVudERhdGEoY29va2Jvb2tJZCkgew0KICAgICAgICAgICAgY29uc3QgY29va2Jvb2tOdXRyaW1lbnRRdWVyeUR0byA9IHsgY29va2Jvb2tJZCB9DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvY29va2Jvb2tOdXRyaW1lbnQvcXVlcnknLCBjb29rYm9va051dHJpbWVudFF1ZXJ5RHRvKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvb2tib29rTnV0cmltZW50TGlzdCA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmn6Xor6Lpo5/osLHokKXlhbvntKDlhbPogZTkv6Hmga/lvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgZmV0Y2hOdXRyaW1lbnRMaXN0KCkgew0KICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL251dHJpbWVudC9xdWVyeScsIHRoaXMubnV0cmltZW50UXVlcnlEdG8pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubnV0cmltZW50TGlzdCA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmn6Xor6LokKXlhbvntKDlvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlnTnV0cmltZW50KGNvb2tib29rKSB7DQogICAgICAgICAgICB0aGlzLmRhdGEgPSBjb29rYm9vazsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hOdXRyaW1lbnRMaXN0KCk7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0NvbmZpZ09wZXJhdGlvbiA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGNhbm5lbENvbmZpZygpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nQ29uZmlnT3BlcmF0aW9uID0gZmFsc2U7DQogICAgICAgIH0sDQogICAgICAgIGNhbm5lbCgpIHsNCiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHt9Ow0KICAgICAgICAgICAgdGhpcy5kaWFsb2dDb29rYm9va09wZXJhaW9uID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmlzT3BlcmF0aW9uID0gZmFsc2U7DQogICAgICAgIH0sDQogICAgICAgIGFkZE9wZXJhdGlvbigpIHsNCiAgICAgICAgICAgIHRoaXMuZGF0YS5jb3ZlciA9IHRoaXMuY292ZXI7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvY29va2Jvb2svdXNlclNhdmUnLCB0aGlzLmRhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6aOf6LCx5pON5L2cJywNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlop7miJDlip8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbm5lbCgpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmlrDlop7po5/osLHlvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgdXBkYXRlT3BlcmF0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5kYXRhLmNvdmVyID0gdGhpcy5jb3ZlcjsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnB1dCgnL2Nvb2tib29rL3VwZGF0ZScsIHRoaXMuZGF0YSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfpo5/osLHmk43kvZwnLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+S/ruaUueaIkOWKnycsDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY2FubmVsKCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuS/ruaUuemjn+iwseW8guW4uO+8miIsIGVycm9yKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICAvLyDmn6Xor6Lnvo7po5/lgZrms5XnmoTkv6Hmga8NCiAgICAgICAgZmV0Y2hGcmVzaENhdGVnb3JpZXMoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvY2F0ZWdvcnkvcXVlcnknLCB7fSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsQ2F0ZWdvcnkgPSB7IGlkOiBudWxsLCBuYW1lOiAn5YWo6YOoJyB9Ow0KICAgICAgICAgICAgICAgICAgICAvLyDlpLTmj5INCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzLnVuc2hpZnQoYWxsQ2F0ZWdvcnkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i576O6aOf5YGa5rOV5byC5bi477yaIiwgZXJyb3IpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIG9uUmVjZWl2ZShjb250ZW50KSB7DQogICAgICAgICAgICB0aGlzLmRhdGEuY29udGVudCA9IGNvbnRlbnQ7DQogICAgICAgIH0sDQogICAgICAgIC8vIOaJk+W8gOmjn+iwseaWsOWinuW8ueeqlw0KICAgICAgICBhZGQoKSB7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Nvb2tib29rT3BlcmFpb24gPSB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICAvLyDmibnph4/liKDpmaTmlbDmja4NCiAgICAgICAgYXN5bmMgYmF0Y2hEZWxldGUoKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMuZGVsZWN0ZWRSb3dzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoYOacqumAieS4reS7u+S9leaVsOaNrmApOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHRoaXMuJHN3YWxDb25maXJtKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WIoOmZpOmjn+iwseaVsOaNricsDQogICAgICAgICAgICAgICAgdGV4dDogYOWIoOmZpOWQjuS4jeWPr+aBouWkje+8jOaYr+WQpue7p+e7re+8n2AsDQogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoY29uZmlybWVkKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IGlkcyA9IHRoaXMuZGVsZWN0ZWRSb3dzLm1hcChlbnRpdHkgPT4gZW50aXR5LmlkKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvY29va2Jvb2svYmF0Y2hEZWxldGVgLCBpZHMpOw0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkv6Hmga/liKDpmaQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLpo5/osLHliKDpmaTlvILluLjvvJoiLCBlcnJvcik7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOmjn+iwseWIoOmZpOW8guW4uO+8mmAsIGVycm9yKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOS/oeaBr+afpeivog0KICAgICAgICBhc3luYyBmZXRjaEZyZXNoRGF0YSgpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBbXTsNCiAgICAgICAgICAgICAgICBsZXQgc3RhcnRUaW1lID0gbnVsbDsNCiAgICAgICAgICAgICAgICBsZXQgZW5kVGltZSA9IG51bGw7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoVGltZSAhPSBudWxsICYmIHRoaXMuc2VhcmNoVGltZS5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3N0YXJ0RGF0ZSwgZW5kRGF0ZV0gPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLnNlYXJjaFRpbWUubWFwKGRhdGUgPT4gZGF0ZS50b0lTT1N0cmluZygpKSk7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGAke3N0YXJ0RGF0ZS5zcGxpdCgnVCcpWzBdfVQwMDowMDowMGA7DQogICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBgJHtlbmREYXRlLnNwbGl0KCdUJylbMF19VDIzOjU5OjU5YDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8g6K+35rGC5Y+C5pWwDQogICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnRQYWdlLA0KICAgICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICAgICAgICAgICAgICBrZXk6IHRoaXMuZmlsdGVyVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsDQogICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsDQogICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuY29va2Jvb2tRdWVyeUR0bw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KCcvY29va2Jvb2svcXVlcnlVc2VyJywgcGFyYW1zKTsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMudG90YWxJdGVtcyA9IGRhdGEudG90YWw7DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuafpeivoumjn+iwseW8guW4uDoiLCBlcnJvcik7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5p+l6K+i6aOf6LCx5byC5bi4OicsIGVycm9yKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlRmlsdGVyKCkgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7DQogICAgICAgICAgICB0aGlzLmZldGNoRnJlc2hEYXRhKCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUZpbHRlckNsZWFyKCkgew0KICAgICAgICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gJyc7DQogICAgICAgICAgICB0aGlzLmhhbmRsZUZpbHRlcigpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOw0KICAgICAgICAgICAgdGhpcy5mZXRjaEZyZXNoRGF0YSgpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsNCiAgICAgICAgICAgIHRoaXMuZmV0Y2hGcmVzaERhdGEoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlRWRpdChyb3cpIHsNCiAgICAgICAgICAgIHRoaXMuY292ZXIgPSByb3cuY292ZXI7DQogICAgICAgICAgICB0aGlzLmRhdGEgPSByb3c7DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Nvb2tib29rT3BlcmFpb24gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5pc09wZXJhdGlvbiA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZURlbGV0ZShyb3cpIHsNCiAgICAgICAgICAgIHRoaXMuZGVsZWN0ZWRSb3dzLnB1c2gocm93KTsNCiAgICAgICAgICAgIHRoaXMuYmF0Y2hEZWxldGUoKTsNCiAgICAgICAgfQ0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["MyCookbook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyCookbook.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n    <el-row style=\"background-color: #FFFFFF;padding: 5px 0;border-radius: 5px;\">\r\n        <el-row style=\"padding: 10px;margin-left: 5px;\">\r\n            <el-row style=\"display: flex;justify-content: left;gap: 6px;\">\r\n                <span class=\"edit-button\" @click=\"add()\">\r\n                    新增食谱\r\n                </span>\r\n                <el-select style=\"width: 100px;\" @change=\"fetchFreshData\" size=\"small\"\r\n                    v-model=\"cookbookQueryDto.categoryId\" placeholder=\"菜系\">\r\n                    <el-option v-for=\"item in categories\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                    </el-option>\r\n                </el-select>\r\n                <el-date-picker style=\"width: 216px;\" @change=\"fetchFreshData\" size=\"small\" v-model=\"searchTime\"\r\n                    type=\"daterange\" range-separator=\"至\" start-placeholder=\"发布开始\" end-placeholder=\"发布结束\">\r\n                </el-date-picker>\r\n                <el-input size=\"small\" style=\"width: 166px;\" v-model=\"cookbookQueryDto.title\" placeholder=\"美食名\"\r\n                    clearable @clear=\"handleFilterClear\">\r\n                    <el-button slot=\"append\" @click=\"handleFilter\" icon=\"el-icon-search\"></el-button>\r\n                </el-input>\r\n            </el-row>\r\n        </el-row>\r\n        <el-row style=\"margin: 0 22px;border-top: 1px solid rgb(245,245,245);\">\r\n            <el-table :stripe=\"true\" :data=\"tableData\" style=\"width: 100%\">\r\n                <el-table-column prop=\"userAvatar\" width=\"68\" label=\"头像\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-avatar :size=\"25\" :src=\"scope.row.userAvatar\" style=\"margin-top: 10px;\"></el-avatar>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"title\" label=\"食谱名\"></el-table-column>\r\n                <el-table-column prop=\"id\" :sortable=\"true\" label=\"内容ID\" width=\"98\"></el-table-column>\r\n                <el-table-column prop=\"categoryName\" label=\"所属类别\" width=\"118\"></el-table-column>\r\n                <el-table-column prop=\"isPublish\" label=\"是否公开\" width=\"118\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span>{{ scope.row.isPublish ? '公开' : '私人' }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"createTime\" label=\"创建时间\" :sortable=\"true\" width=\"168\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span class=\"text-button\" @click=\"handleEdit(scope.row)\">修改</span>\r\n                        <span class=\"text-button\" @click=\"handleDelete(scope.row)\">删除</span>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination style=\"margin:10px 0;float: right;\" @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[20, 50]\"\r\n                :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"totalItems\"></el-pagination>\r\n        </el-row>\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogCookbookOperaion\" width=\"40%\">\r\n            <div style=\"padding:16px 20px;\">\r\n                <p>{{ isOperation ? '食谱修改' : '食谱新增' }}</p>\r\n                <el-row>\r\n                    <p>食谱</p>\r\n                    <el-upload class=\"avatar-uploader\"\r\n                        action=\"http://localhost:21090/api/food-share-sys/v1.0/file/upload\" :show-file-list=\"false\"\r\n                        :on-success=\"handleCoverSuccess\">\r\n                        <img v-if=\"cover\" :src=\"cover\" style=\"width: 150px;height: 150px;\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                </el-row>\r\n                <div>\r\n                    <input class=\"dialog-input\" v-model=\"data.title\" placeholder=\"食谱名称\" />\r\n                </div>\r\n                <div>\r\n                    <Editor height=\"calc(100vh - 550px)\" :receiveContent=\"data.content\" @on-receive=\"onReceive\" />\r\n                </div>\r\n                <div style=\"margin-block: 10px;\">\r\n                    <span class=\"dialog-hover\">所属菜系</span>\r\n                    <el-select style=\"width: 100px;\" @change=\"fetchFreshData\" size=\"small\" v-model=\"data.categoryId\"\r\n                        placeholder=\"菜系\">\r\n                        <el-option v-for=\"item in categories\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\" style=\"margin-top: 10px;\">\r\n                <span class=\"channel-button\" @click=\"cannel()\">\r\n                    取消操作\r\n                </span>\r\n                <span v-if=\"!isOperation\" class=\"edit-button\" @click=\"addOperation()\">\r\n                    确定新增\r\n                </span>\r\n                <span v-else class=\"edit-button\" @click=\"updateOperation()\">\r\n                    确定修改\r\n                </span>\r\n            </span>\r\n        </el-dialog>\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogConfigOperation\" width=\"30%\">\r\n            <div style=\"padding:16px 20px;\">\r\n                <div>\r\n                    配置营养素信息\r\n                </div>\r\n                <div style=\"margin-top: 10px;background-color: rgb(248,248,248);padding: 10px;border-radius: 4px;\">\r\n                    <div style=\"margin-block: 4px;font-size: 20px;font-weight: 800;\">\r\n                        <i class=\"el-icon-food\" style=\"margin-right: 4px;\"></i>\r\n                        {{ data.title }}\r\n                    </div>\r\n                    <div style=\"font-size: 12px;\">\r\n                        <span>\r\n                            {{ data.categoryName }}\r\n                        </span>\r\n                        <span>\r\n                            发布于&nbsp;{{ data.createTime }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <el-tabs v-model=\"activeName\" @tab-click=\"handleTabClick\">\r\n                        <el-tab-pane label=\"营养素列表\" name=\"first\">\r\n                            <div style=\"max-height: 350px;overflow-y: scroll;\">\r\n                                <div style=\"margin-block: 10px;\">\r\n                                    <el-input size=\"small\" style=\"width: 166px;\" v-model=\"nutrimentQueryDto.name\"\r\n                                        placeholder=\"用户名\">\r\n                                        <el-button slot=\"append\" @click=\"fetchNutrimentList\"\r\n                                            icon=\"el-icon-search\"></el-button>\r\n                                    </el-input>\r\n                                </div>\r\n                                <div v-if=\"nutrimentList.length === 0\">\r\n                                    <el-empty description=\"暂无营养素信息\"></el-empty>\r\n                                </div>\r\n                                <div v-else class=\"nutriment-item\" v-for=\"(nutriment, index) in nutrimentList\"\r\n                                    :key=\"index\">\r\n                                    <div>\r\n                                        <span class=\"unit\">\r\n                                            {{ nutriment.unit }}\r\n                                        </span>\r\n                                        <span class=\"name\">\r\n                                            {{ nutriment.name }}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div class=\"detail\">\r\n                                        {{ nutriment.detail }}\r\n                                    </div>\r\n                                    <div v-if=\"spaceNutriment.id === nutriment.id\">\r\n                                        <input @keyup.enter=\"confirmNutrimentConfig\" class=\"dialog-input\"\r\n                                            v-model=\"spaceNutriment.g100Value\" placeholder=\"每100g含量\" />\r\n                                    </div>\r\n                                    <div v-else>\r\n                                        <span @click=\"configNutrimentInfo(nutriment)\"\r\n                                            style=\"color: rgb(29, 153, 228);font-size: 12px;\">\r\n                                            配置\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </el-tab-pane>\r\n                        <el-tab-pane label=\"配置信息\" name=\"second\">\r\n                            <div v-if=\"cookbookNutrimentList.length === 0\">\r\n                                <el-empty description=\"暂无配置信息\"></el-empty>\r\n                            </div>\r\n                            <div v-else style=\"max-height: 350px;overflow-y: scroll;\">\r\n                                <div class=\"nutriment-item\" v-for=\"(nutriment, index) in cookbookNutrimentList\"\r\n                                    :key=\"index\">\r\n                                    <div>\r\n                                        <span class=\"unit\">\r\n                                            {{ nutriment.nutrimentUnit }}\r\n                                        </span>\r\n                                        <span class=\"name\">\r\n                                            {{ nutriment.nutrimentName }}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div v-if=\"spaceNutriment.id === nutriment.id\">\r\n                                        <input @keyup.enter=\"confirmUpadteNutrimentConfig\" class=\"dialog-input\"\r\n                                            v-model=\"spaceNutriment.g100Value\" placeholder=\"每100g含量\" />\r\n                                    </div>\r\n                                    <div v-else>\r\n                                        <span class=\"unit\">每100g含量\r\n                                            <span style=\"font-size: 18px;font-weight: bold;\">\r\n                                                {{ nutriment.g100Value }}{{ nutriment.nutrimentUnit }}\r\n                                            </span>\r\n                                        </span>\r\n                                        <span @click=\"updateNutrimentConfig(nutriment)\"\r\n                                            style=\"color: rgb(29, 153, 228);font-size: 12px;\">\r\n                                            修改\r\n                                        </span>\r\n                                        <span @click=\"delNutrimentConfig(nutriment)\"\r\n                                            style=\"color: rgb(229, 0, 0);font-size: 12px;\">\r\n                                            删除\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </el-tab-pane>\r\n                    </el-tabs>\r\n                </div>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\" style=\"margin-top: 10px;\">\r\n                <span class=\"channel-button\" @click=\"cannelConfig()\">\r\n                    取消操作\r\n                </span>\r\n            </span>\r\n        </el-dialog>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\nimport Editor from \"@/components/Editor\"\r\nexport default {\r\n    components: { Editor },\r\n    data() {\r\n        return {\r\n            activeName: 'first',\r\n            data: {},\r\n            filterText: '',\r\n            currentPage: 1,\r\n            pageSize: 20,\r\n            totalItems: 0,\r\n            tableData: [],\r\n            delectedRows: [],\r\n            searchTime: [],\r\n            cover: null,\r\n            cookbookNutrimentList: [],\r\n            nutrimentQueryDto: { isPublish: true }, // 只要公开的\r\n            dialogConfigOperation: false, // 配置弹窗\r\n            dialogCookbookOperaion: false, // 弹窗\r\n            isOperation: false, // 默认新增\r\n            nutrimentList: [],\r\n            cookbookQueryDto: {}, // 搜索条件\r\n            spaceNutriment: {},\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchFreshData();\r\n        this.fetchFreshCategories();\r\n    },\r\n    methods: {\r\n        handleCoverSuccess(res, file) {\r\n            this.$notify({\r\n                duration: 1500,\r\n                title: '封面上传',\r\n                message: res.code === 200 ? '上传成功' : '上传失败',\r\n                type: res.code === 200 ? 'success' : 'error'\r\n            });\r\n            // 上传成功则更新封面\r\n            if (res.code === 200) {\r\n                this.cover = res.data;\r\n            }\r\n        },\r\n        confirmUpadteNutrimentConfig() {\r\n            const cookbookNutriment = {\r\n                id: this.spaceNutriment.id,\r\n                g100Value: this.spaceNutriment.g100Value\r\n            }\r\n            this.$axios.post('/cookbookNutriment/save', cookbookNutriment).then(res => {\r\n                if (res.data.code === 200) {\r\n                    // 提示配置成功\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '营养素配置操作',\r\n                        message: '修改配置成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.activeName = 'second';\r\n                } else {\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '营养素配置操作',\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"修改食谱营养素关联信息异常：\", error);\r\n            });\r\n        },\r\n        // 修改食谱关联的营养素信息\r\n        updateNutrimentConfig(nutriment) {\r\n            this.spaceNutriment = nutriment;\r\n            console.log(\"update:\", nutriment);\r\n        },\r\n        // 删除食谱关联的营养素信息\r\n        delNutrimentConfig(nutriment) {\r\n            console.log(\"del:\", nutriment);\r\n        },\r\n        // 确定营养素配置\r\n        confirmNutrimentConfig() {\r\n            // 构造关联对象\r\n            const cookbookNutriment = {\r\n                cookbookId: this.data.id,\r\n                nutrimentId: this.spaceNutriment.id,\r\n                g100Value: this.spaceNutriment.g100Value\r\n            }\r\n            this.$axios.post('/cookbookNutriment/save', cookbookNutriment).then(res => {\r\n                if (res.data.code === 200) {\r\n                    // 提示配置成功\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '营养素配置操作',\r\n                        message: '配置成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.activeName = 'second';\r\n                } else {\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '营养素配置操作',\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"新增食谱营养素关联信息异常：\", error);\r\n            });\r\n        },\r\n        configNutrimentInfo(nutriment) {\r\n            this.spaceNutriment = nutriment;\r\n        },\r\n        // 标签页切换\r\n        handleTabClick(tab, event) {\r\n            if (tab.index === '0') { // 查的营养素信息\r\n                this.fetchNutrimentList();\r\n            } else if (tab.index === '1') { // 查的是配置信息\r\n                this.fetchCookbookNutrimentData(this.data.id);\r\n            }\r\n        },\r\n        // 查询食谱关联的营养素信息\r\n        fetchCookbookNutrimentData(cookbookId) {\r\n            const cookbookNutrimentQueryDto = { cookbookId }\r\n            this.$axios.post('/cookbookNutriment/query', cookbookNutrimentQueryDto).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.cookbookNutrimentList = res.data.data;\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询食谱营养素关联信息异常：\", error);\r\n            });\r\n        },\r\n        fetchNutrimentList() {\r\n            this.$axios.post('/nutriment/query', this.nutrimentQueryDto).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.nutrimentList = res.data.data;\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询营养素异常：\", error);\r\n            });\r\n        },\r\n        configNutriment(cookbook) {\r\n            this.data = cookbook;\r\n            this.fetchNutrimentList();\r\n            this.dialogConfigOperation = true;\r\n        },\r\n        cannelConfig() {\r\n            this.dialogConfigOperation = false;\r\n        },\r\n        cannel() {\r\n            this.data = {};\r\n            this.dialogCookbookOperaion = false;\r\n            this.isOperation = false;\r\n        },\r\n        addOperation() {\r\n            this.data.cover = this.cover;\r\n            this.$axios.post('/cookbook/userSave', this.data).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '食谱操作',\r\n                        message: '新增成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.cannel();\r\n                    this.fetchFreshData();\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"新增食谱异常：\", error);\r\n            });\r\n        },\r\n        updateOperation() {\r\n            this.data.cover = this.cover;\r\n            this.$axios.put('/cookbook/update', this.data).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '食谱操作',\r\n                        message: '修改成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.cannel();\r\n                    this.fetchFreshData();\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"修改食谱异常：\", error);\r\n            });\r\n        },\r\n        // 查询美食做法的信息\r\n        fetchFreshCategories() {\r\n            this.$axios.post('/category/query', {}).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.categories = res.data.data;\r\n                    const allCategory = { id: null, name: '全部' };\r\n                    // 头插\r\n                    this.categories.unshift(allCategory);\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询美食做法异常：\", error);\r\n            });\r\n        },\r\n        onReceive(content) {\r\n            this.data.content = content;\r\n        },\r\n        // 打开食谱新增弹窗\r\n        add() {\r\n            this.dialogCookbookOperaion = true;\r\n        },\r\n        // 批量删除数据\r\n        async batchDelete() {\r\n            if (!this.delectedRows.length) {\r\n                this.$message(`未选中任何数据`);\r\n                return;\r\n            }\r\n            const confirmed = await this.$swalConfirm({\r\n                title: '删除食谱数据',\r\n                text: `删除后不可恢复，是否继续？`,\r\n                icon: 'warning',\r\n            });\r\n            if (confirmed) {\r\n                try {\r\n                    let ids = this.delectedRows.map(entity => entity.id);\r\n                    const response = await this.$axios.post(`/cookbook/batchDelete`, ids);\r\n                    if (response.data.code === 200) {\r\n                        this.$notify({\r\n                            duration: 1000,\r\n                            title: '信息删除',\r\n                            message: '删除成功',\r\n                            type: 'success'\r\n                        });\r\n                        this.fetchFreshData();\r\n                        return;\r\n                    }\r\n                } catch (error) {\r\n                    this.$message.error(\"食谱删除异常：\", error);\r\n                    console.error(`食谱删除异常：`, error);\r\n                }\r\n            }\r\n        },\r\n        // 信息查询\r\n        async fetchFreshData() {\r\n            try {\r\n                this.tableData = [];\r\n                let startTime = null;\r\n                let endTime = null;\r\n                if (this.searchTime != null && this.searchTime.length === 2) {\r\n                    const [startDate, endDate] = await Promise.all(this.searchTime.map(date => date.toISOString()));\r\n                    startTime = `${startDate.split('T')[0]}T00:00:00`;\r\n                    endTime = `${endDate.split('T')[0]}T23:59:59`;\r\n                }\r\n                // 请求参数\r\n                const params = {\r\n                    current: this.currentPage,\r\n                    size: this.pageSize,\r\n                    key: this.filterText,\r\n                    startTime: startTime,\r\n                    endTime: endTime,\r\n                    ...this.cookbookQueryDto\r\n                };\r\n                const response = await this.$axios.post('/cookbook/queryUser', params);\r\n                const { data } = response;\r\n                this.tableData = data.data;\r\n                this.totalItems = data.total;\r\n            } catch (error) {\r\n                this.$message.error(\"查询食谱异常:\", error);\r\n                console.error('查询食谱异常:', error);\r\n            }\r\n        },\r\n        handleFilter() {\r\n            this.currentPage = 1;\r\n            this.fetchFreshData();\r\n        },\r\n        handleFilterClear() {\r\n            this.filterText = '';\r\n            this.handleFilter();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.pageSize = val;\r\n            this.currentPage = 1;\r\n            this.fetchFreshData();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n            this.fetchFreshData();\r\n        },\r\n        handleEdit(row) {\r\n            this.cover = row.cover;\r\n            this.data = row;\r\n            this.dialogCookbookOperaion = true;\r\n            this.isOperation = true;\r\n        },\r\n        handleDelete(row) {\r\n            this.delectedRows.push(row);\r\n            this.batchDelete();\r\n        }\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.nutriment-item:hover {\r\n    background-color: rgb(246, 246, 246);\r\n    border-radius: 4px;\r\n}\r\n\r\n.nutriment-item {\r\n    padding: 8px;\r\n    cursor: pointer;\r\n    margin-right: 20px;\r\n\r\n    .unit {\r\n        font-size: 10px;\r\n    }\r\n\r\n    .name {\r\n        font-weight: 800;\r\n        color: rgb(51, 51, 51);\r\n    }\r\n\r\n    .detail {\r\n        font-size: 12px;\r\n        margin-block: 4px;\r\n    }\r\n}\r\n</style>"]}]}