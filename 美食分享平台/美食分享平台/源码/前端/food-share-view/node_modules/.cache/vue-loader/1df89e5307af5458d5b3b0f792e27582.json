{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\admin\\Main.vue?vue&type=style&index=0&id=6b581c9a&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\admin\\Main.vue","mtime":1733308393000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5idXR0b20gew0KICAgIHBhZGRpbmc6IDBweCAyMHB4Ow0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQoNCiAgICAuZ291cm1ldC1pdGVtIHsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAganVzdGlmeS1jb250ZW50OiBsZWZ0Ow0KICAgICAgICBwYWRkaW5nOiAxMHB4IDA7DQogICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCg0KICAgICAgICAubGVmdCB7DQogICAgICAgICAgICBwYWRkaW5nOiA1cHg7DQogICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KDQogICAgICAgICAgICBpbWcgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMzhweDsNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDgwcHg7DQogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLnJpZ2h0IHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDVweDsNCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQoNCiAgICAgICAgICAgIC51c2VyIHsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogbGVmdDsNCiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgICAgIG1hcmdpbi1ibG9jazogNHB4Ow0KDQogICAgICAgICAgICAgICAgaW1nIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwcHg7DQogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBzcGFuIHsNCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDsNCiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLnRpdGxlIHsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICAgICAgICAgICAgd2lkdGg6IDIwMHB4Ow0KICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7DQogICAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDZweDsNCiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgICAgICAgICAgICAgIC8qIOmYsuatouaWh+acrOaNouihjCAqLw0KICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgICAgICAgICAgICAgLyog6ZqQ6JeP6LaF5Ye65a655Zmo55qE5paH5pysICovDQogICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogICAgICAgICAgICAgICAgLyog5L2/55So55yB55Wl5Y+36KGo56S66KKr5oiq5pat55qE5paH5pysICovDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC50aXRsZTpob3ZlciB7DQogICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQogICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uLXN0eWxlOiBkYXNoZWQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC5kZXRhaWwgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDEzMSwgMTMwLCAxMzApOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAuaW5mbyB7DQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDRweDsNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogbGVmdDsNCiAgICAgICAgICAgICAgICBnYXA6IDEwcHg7DQoNCiAgICAgICAgICAgICAgICBzcGFuOmZpcnN0LWNoaWxkIHsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxcHggM3B4Ow0KICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7DQogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMzcsIDI0MywgMjQ5KTsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYigxMzYsIDExNSwgMjMzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Main.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div style=\"box-sizing: border-box;overflow-y: hidden;overflow-x: hidden;\">\r\n        <el-row>\r\n            <el-col :span=\"16\">\r\n                <div>\r\n                    <div>\r\n                        <el-row style=\"padding-block: 20px;margin-inline: 30px;background-color: rgb(246,246,246);\">\r\n                            <el-col :span=\"4\" v-for=\"(staticItem, index) in staticData\" :key=\"index\">\r\n                                <div class=\"static-item\">\r\n                                    <el-statistic group-separator=\",\" :precision=\"0\" :value=\"staticItem.count\"\r\n                                        :title=\"staticItem.name\"></el-statistic>\r\n                                </div>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </div>\r\n                    <div>\r\n                        <div style=\"padding: 20px 60px;box-sizing: border-box;\">\r\n                            <LineChart height=\"280px\" tag=\"内容分享趋势\" @on-selected=\"netItemSelected\" :values=\"shareValues\"\r\n                                :date=\"shareDates\" />\r\n                        </div>\r\n                        <div style=\"padding: 20px 60px;box-sizing: border-box;\">\r\n                            <LineChart height=\"280px\" tag=\"收录美食做法\" @on-selected=\"gourmetItemSelected\"\r\n                                :values=\"gourmetValues\" :date=\"gourmetDates\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n                <div class=\"buttom\">\r\n                    <p style=\"font-size: 24px;\">最热帖子</p>\r\n                    <div class=\"gourmet-item\" v-for=\"(gourmet, index) in gourmetList\" :key=\"index\">\r\n                        <div class=\"left\">\r\n                            <img :src=\"gourmet.cover\" :alt=\"gourmet.title\" srcset=\"\">\r\n                        </div>\r\n                        <div class=\"right\">\r\n                            <div class=\"user\">\r\n                                <img :src=\"gourmet.userAvatar\" alt=\"\" srcset=\"\">\r\n                                <span>{{ gourmet.userName }}</span>\r\n                            </div>\r\n                            <div class=\"title\" @click=\"readGourmet(gourmet)\">{{ gourmet.title }}</div>\r\n                            <div class=\"info\">\r\n                                <span>{{ gourmet.categoryName }}</span>\r\n                                <span>\r\n                                    点赞({{ gourmet.upvoteCount}})\r\n                                </span>\r\n                                <span>\r\n                                    阅读({{ gourmet.viewCount }})\r\n                                </span>\r\n                                <span>\r\n                                    收藏({{ gourmet.saveCount }})\r\n                                </span>\r\n                                <span>{{ timeOut(gourmet.createTime) }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nimport { timeAgo } from \"@/utils/data\"\r\nexport default {\r\n    components: { LineChart },\r\n    data() {\r\n        return {\r\n            staticData: [],\r\n            gourmetList: [],\r\n            shareValues: [],\r\n            shareDates: [],\r\n            gourmetValues: [],\r\n            gourmetDates: [],\r\n            defaultQueryDays: 365, // 由于数据太少，直接查一年来测试\r\n        }\r\n    },\r\n    created() {\r\n        this.fentchStaticCount();\r\n        this.fentchgourmet();\r\n        this.netItemSelected(this.defaultQueryDays);\r\n        this.gourmetItemSelected(this.defaultQueryDays);\r\n    },\r\n    methods: {\r\n        timeOut(time) {\r\n            return timeAgo(time);\r\n        },\r\n        // 查询指定时间内的美食做法存量\r\n        gourmetItemSelected(day) {\r\n            this.$axios.get(`/gourmet/daysQuery/${day}`).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.gourmetValues = res.data.data.map(money => money.count);\r\n                    this.gourmetDates = res.data.data.map(money => money.name);\r\n                }\r\n            });\r\n        },\r\n        // 查询指定时间内的内容分享量\r\n        netItemSelected(day) {\r\n            this.$axios.post(`/contentNet/daysQuery`, { day }).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.shareValues = res.data.data.map(money => money.count);\r\n                    this.shareDates = res.data.data.map(money => money.name);\r\n                }\r\n            });\r\n        },\r\n        readGourmet(gourmet) {\r\n            sessionStorage.setItem('gourmetId', gourmet.id);\r\n            this.$router.push('/seeGourmetDetail');\r\n        },\r\n        // 查询阅读量最高的美食做法数据\r\n        fentchgourmet() {\r\n            const gourmetQueryDto = {\r\n                current: 1,\r\n                size: 5\r\n            }\r\n            this.$axios.post('/gourmet/queryByView', gourmetQueryDto).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.gourmetList = res.data.data;\r\n                }\r\n            });\r\n        },\r\n        // 查询静态数据\r\n        fentchStaticCount() {\r\n            this.$axios.get('/views/staticControls').then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.staticData = res.data.data;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.buttom {\r\n    padding: 0px 20px;\r\n    box-sizing: border-box;\r\n\r\n    .gourmet-item {\r\n        display: flex;\r\n        justify-content: left;\r\n        padding: 10px 0;\r\n        cursor: pointer;\r\n\r\n        .left {\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n\r\n            img {\r\n                width: 138px;\r\n                height: 80px;\r\n                border-radius: 5px;\r\n            }\r\n        }\r\n\r\n        .right {\r\n            padding: 5px;\r\n            box-sizing: border-box;\r\n\r\n            .user {\r\n                display: flex;\r\n                justify-content: left;\r\n                align-items: center;\r\n                margin-block: 4px;\r\n\r\n                img {\r\n                    width: 20px;\r\n                    height: 20px;\r\n                    border-radius: 10px;\r\n                }\r\n\r\n                span {\r\n                    margin-left: 4px;\r\n                    font-size: 14px;\r\n                }\r\n            }\r\n\r\n            .title {\r\n                font-size: 16px;\r\n                width: 200px;\r\n                font-weight: 800;\r\n                padding-bottom: 6px;\r\n                white-space: nowrap;\r\n                /* 防止文本换行 */\r\n                overflow: hidden;\r\n                /* 隐藏超出容器的文本 */\r\n                text-overflow: ellipsis;\r\n                /* 使用省略号表示被截断的文本 */\r\n            }\r\n\r\n            .title:hover {\r\n                text-decoration: underline;\r\n                text-decoration-style: dashed;\r\n            }\r\n\r\n            .detail {\r\n                font-size: 14px;\r\n                color: rgb(131, 130, 130);\r\n            }\r\n\r\n            .info {\r\n                font-size: 12px;\r\n                margin-top: 4px;\r\n                display: flex;\r\n                justify-content: left;\r\n                gap: 10px;\r\n\r\n                span:first-child {\r\n                    display: inline-block;\r\n                    padding: 1px 3px;\r\n                    border-radius: 2px;\r\n                    background-color: rgb(237, 243, 249);\r\n                    color: rgb(136, 115, 233);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</style>"]}]}