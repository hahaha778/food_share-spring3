{"remainingRequest":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\DietHistory.vue?vue&type=style&index=0&id=cd044894&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\src\\views\\user\\DietHistory.vue","mtime":1733112097000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sunshine\\Desktop\\sql\\美食分享平台\\美食分享平台\\源码\\前端\\food-share-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLml0ZW0tZGlldDpob3ZlciB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OCwgMjQ4LCAyNDgpOw0KfQ0KDQouaXRlbS1kaWV0IHsNCiAgICBwYWRkaW5nOiAxMnB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5yZWNvcmQgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ2LCAyNDYsIDI0Nik7DQogICAgbWluLWhlaWdodDogMjAwcHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQoucmVjb3JkOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQyLCAyNDIsIDI0Mik7DQp9DQo="},{"version":3,"sources":["DietHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"DietHistory.vue","sourceRoot":"src/views/user","sourcesContent":["dietHitoryList<template>\r\n    <div style=\"background-color: rgb(255,255,255);padding: 20px;\">\r\n        <div class=\"record\" @click=\"recordGourmet\">\r\n            <span style=\"font-size: 24px;font-weight: bold;\">\r\n                <i class=\"el-icon-food\" style=\"margin-right: 5px;\"></i>添加菜单\r\n            </span>\r\n        </div>\r\n        <h3>我的菜单</h3>\r\n        <div>\r\n            <div v-if=\"dietHitoryList.length === 0\">\r\n                <el-empty description=\"快补充菜单吧\"></el-empty>\r\n            </div>\r\n            <div v-else class=\"item-diet\" style=\"padding-block: 10px;\" v-for=\"(dietHistory, index) in dietHitoryList\">\r\n                <div style=\"font-size: 30px;font-weight: bold;\">{{ getCookbookName(dietHistory) }}</div>\r\n                <div style=\"margin-block: 4px;font-size: 14px;\">\r\n                    <span>\r\n                        {{ dietHistory.detail }} - {{ dietHistory.value }}g\r\n                    </span>\r\n                    <span style=\"float: right;\" @click=\"removeCookbook(dietHistory)\">\r\n                        <i class=\"el-icon-circle-close\"></i>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div style=\"margin-block: 30px;\">\r\n                <el-button type=\"primary\" @click=\"record\">立即记录</el-button>\r\n            </div>\r\n        </div>\r\n        <el-dialog :show-close=\"false\" :visible.sync=\"dialogGourmetOperaion\" width=\"20%\">\r\n            <div style=\"padding:16px 20px;\">\r\n                <p>选择菜单</p>\r\n                <el-select style=\"width: 100%;\" size=\"small\" v-model=\"dieHistory.cookbookId\" placeholder=\"选择菜单\">\r\n                    <el-option v-for=\"item in cookbooks\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n                    </el-option>\r\n                </el-select>\r\n                <p>备注</p>\r\n                <el-input type=\"textarea\" :rows=\"3\" placeholder=\"请输入内容\" v-model=\"dieHistory.detail\">\r\n                </el-input>\r\n                <p>食用量（g为单位）</p>\r\n                <input class=\"dialog-input\" v-model=\"dieHistory.value\" placeholder=\"输入\" />\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\" style=\"margin-top: 10px;\">\r\n                <span class=\"channel-button\" @click=\"cannel()\">\r\n                    取消操作\r\n                </span>\r\n                <span class=\"edit-button\" @click=\"addOperation()\">\r\n                    确认菜单\r\n                </span>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: \"DietHistory\",\r\n    data() {\r\n        return {\r\n            dieHistory: {},\r\n            dialogGourmetOperaion: false,\r\n            cookbooks: [],\r\n            dietHitoryList: [],\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchCookbookList();\r\n    },\r\n    methods: {\r\n        record() {\r\n            this.$axios.post(`/dietHistory/save`, this.dietHitoryList).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.$notify({\r\n                        duration: 1000,\r\n                        title: '记录饮食',\r\n                        message: '成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.dietHitoryList = [];\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"新增饮食信息异常：\", error);\r\n            })\r\n        },\r\n        removeCookbook(dieHistory) {\r\n            this.dietHitoryList = this.dietHitoryList.filter(entity => entity.cookbookId !== dieHistory.cookbookId);\r\n        },\r\n        getCookbookName(dieHistory) {\r\n            return this.cookbooks.filter(entity => entity.id === dieHistory.cookbookId)[0].name;\r\n        },\r\n        fetchCookbookList() {\r\n            this.$axios.get(`/cookbook/querySelectedItemsAll`).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    this.cookbooks = data.data;\r\n                }\r\n            }).catch(error => {\r\n                console.log(\"查询食谱信息异常：\", error);\r\n            })\r\n        },\r\n        addOperation() {\r\n            this.dietHitoryList.push(this.dieHistory);\r\n            this.cannel();\r\n        },\r\n        cannel() {\r\n            this.dieHistory = {};\r\n            this.dialogGourmetOperaion = false;\r\n        },\r\n        recordGourmet() {\r\n            this.dialogGourmetOperaion = true;\r\n        },\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.item-diet:hover {\r\n    background-color: rgb(248, 248, 248);\r\n}\r\n\r\n.item-diet {\r\n    padding: 12px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n\r\n.record {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgb(246, 246, 246);\r\n    min-height: 200px;\r\n    cursor: pointer;\r\n}\r\n\r\n.record:hover {\r\n    background-color: rgb(242, 242, 242);\r\n}\r\n</style>\r\n"]}]}